<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2021-05-28 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>argouml-app - CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20210528" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                argouml-app
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2021-05-28</span>
                  &nbsp;| <span id="projectVersion">Version: 0.35.2-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="./" title="argouml-app">argouml-app</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../../index.html" title="argouml-core">argouml-core</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                        <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                      <li class="expanded">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                    <ul>
                      <li class="none">
                          <a href="jacoco/index.html" title="JaCoCo">JaCoCo</a>
            </li>
                      <li class="none">
                          <a href="checkstyle.html" title="Checkstyle">Checkstyle</a>
            </li>
                      <li class="none">
                          <a href="jdepend-report.html" title="JDepend">JDepend</a>
            </li>
                      <li class="none">
                          <a href="pmd.html" title="PMD Report">PMD Report</a>
            </li>
                      <li class="none">
            <strong>CPD Report</strong>
          </li>
              </ul>
        </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2>CPD Results<a name="CPD_Results"></a></h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 4.3.</p></div>
<div class="section">
<h2>Duplications<a name="Duplications"></a></h2>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/ui/UMLModelElementListModel2.java</td>
<td>148</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/UMLStereotypeListModel.java</td>
<td>145</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public UMLModelElementListModel2(
	    String name,
	    Object theMetaType,
	    boolean reverseTheDropConnection) {
        super();
        this.metaType = theMetaType;
        eventName = name;
        this.reverseDropConnection = reverseTheDropConnection;
    }

    /**
     * Get the type of objects that this list model is designed to contain.
     * @return metaType the meta type.
     */
    public Object getMetaType() {
	return metaType;
    }

    public boolean isReverseDropConnection() {
	return reverseDropConnection;
    }

    /**
     * @param building The buildingModel to set.
     */
    protected void setBuildingModel(boolean building) {
        this.buildingModel = building;
    }

    /**
     * @param t the list target to set
     */
    protected void setListTarget(Object t) {
        this.listTarget = t;
    }

    /*
     * @see java.beans.PropertyChangeListener#propertyChange(java.beans.PropertyChangeEvent)
     *
     * TODO: This should be reviewed to see if it can be improved with a view
     * towards removing some of the overrriding methods used as workarounds for
     * differences between NSUML and MDR - tfm - 20060302
     */
    public void propertyChange(PropertyChangeEvent e) {
        if (e instanceof AttributeChangeEvent) {
            try {
                if (isValidEvent(e)) {
                    rebuildModelList();
                }
            } catch (InvalidElementException iee) {
                return;
            }
        } else if (e instanceof AddAssociationEvent) {
            if (isValidEvent(e)) {
                Object o = getChangedElement(e);
                if (o instanceof Collection) {
                    ArrayList tempList = new ArrayList((Collection) o);
                    Iterator it = tempList.iterator();
                    while (it.hasNext()) {
                        Object o2 = it.next();
                        addElement(o2);
                    }
                } else {
                    /* TODO: If this is an ordered list, then you have to
                        add in the right location! */
                    addElement(o);
                }
            }
        } else if (e instanceof RemoveAssociationEvent) {
            boolean valid = false;
            if (!(getChangedElement(e) instanceof Collection)) {
                valid = contains(getChangedElement(e));
            } else {
                Collection col = (Collection) getChangedElement(e);
                Iterator it = col.iterator();
                valid = true;
                while (it.hasNext()) {
                    Object o = it.next();
                    if (!contains(o)) {
                        valid = false;
                        break;
                    }
                }
            }
            if (valid) {
                Object o = getChangedElement(e);
                if (o instanceof Collection) {
                    Iterator it = ((Collection) o).iterator();
                    while (it.hasNext()) {
                        Object o3 = it.next();
                        removeElement(o3);
                    }
                } else {
                    removeElement(o);
                }
            }
        }
    }

    /**
     * Delete and rebuild the model list from scratch.
     */
    private void rebuildModelList() {
        removeAllElements();
        buildingModel = true;
        try {
            buildModelList();
        } catch (InvalidElementException exception) {
            /*
             * This can throw an exception if the target has been
             * deleted. We don't want to try locking the repository
             * because this is called from the event delivery thread and
             * could cause a deadlock. Instead catch the exception and
             * leave the model empty.
             */
            LOG.log(Level.FINE, &quot;buildModelList threw exception for target &quot;+ getTarget() + &quot;: &quot;,
                    exception);
        } finally {
            buildingModel = false;
        }
        if (getSize() &gt; 0) {
            fireIntervalAdded(this, 0, getSize() - 1);
        }
    }

    /**
     * Builds the list of elements. Called from targetChanged every time the
     * target of the proppanel is changed. Usually the method setAllElements is
     * called with the result.
     */
    protected abstract void buildModelList();

    /**
     * Utility method to set the elements of this list to the contents of the
     * given collection.
     * @param col the given collection
     */
    protected void setAllElements(Collection col) {
        if (!isEmpty()) {
            removeAllElements();
        }
        addAll(col);
    }

    /**
     * Utility method to add a collection of elements to the model
     * @param col the given collection
     */
    public void addAll(Collection col) {
        if (col.size() == 0) {
            return;
        }
        Iterator it = col.iterator();
        fireListEvents = false;
        int intervalStart = getSize() == 0 ? 0 : getSize() - 1;
        while (it.hasNext()) {
            Object o = it.next();
            addElement(o);
        }
        fireListEvents = true;
        fireIntervalAdded(this, intervalStart, getSize() - 1);
    }

    /**
     * Utility method to get the target. Sets the target if the target is null
     * via the method setTarget().
     * @return MModelElement
     */
    public Object getTarget() {
        return listTarget;
    }

    /**
     * Utility method to get the changed element from some event e
     * @param e the event
     * @return Object the changed element
     */
    protected Object getChangedElement(PropertyChangeEvent e) {
        if (e instanceof AssociationChangeEvent) {
            return ((AssociationChangeEvent) e).getChangedValue();
        }
        if (e instanceof AttributeChangeEvent) {
            return ((AttributeChangeEvent) e).getSource();
        }
        return e.getNewValue();
    }

    /*
     * @see javax.swing.DefaultListModel#contains(java.lang.Object)
     */
    public boolean contains(Object elem) {
        if (super.contains(elem)) {
            return true;
        }
        if (elem instanceof Collection) {
            Iterator it = ((Collection) elem).iterator();
            while (it.hasNext()) {
                if (!super.contains(it.next())) {
                    return false;
                }
            }
            return true;
        }
        return false;
    }

    /**
     * Sets the target. If the old target is a ModelElement, it also removes
     * the model from the element listener list of the target. If the new target
     * is instanceof ModelElement, the model is added as element listener to the
     * new target. &lt;p&gt;
     *
     * This function is called when the user changes the target.
     * Hence, this shall not result in any UML model changes.
     * Hence, we block firing list events completely by setting
     * buildingModel to true for the duration of this function. &lt;p&gt;
     *
     * This function looks a lot like the one in UMLComboBoxModel2.
     *
     * @param theNewTarget the new target
     */
    public void setTarget(Object theNewTarget) {
        theNewTarget = theNewTarget instanceof Fig
            ? ((Fig) theNewTarget).getOwner() : theNewTarget;
        if (Model.getFacade().isAUMLElement(theNewTarget)
                || theNewTarget instanceof Diagram) {
            if (Model.getFacade().isAUMLElement(listTarget)) {
                Model.getPump().removeModelEventListener(this, listTarget,
                        eventName);
                // Allow listening to other elements:
                removeOtherModelEventListeners(listTarget);
            }

            if (Model.getFacade().isAUMLElement(theNewTarget)) {
                listTarget = theNewTarget;
                Model.getPump().addModelEventListener(this, listTarget,
                        eventName);
                // Allow listening to other elements:
                addOtherModelEventListeners(listTarget);

                rebuildModelList();

            } else {
                listTarget = null;
                removeAllElements();
            }
        }
    }

    /**
     * This function allows subclasses to listen to more modelelements.
     * The given target is guaranteed to be a UML modelelement.
     *
     * @param oldTarget the UML modelelement
     */
    protected void removeOtherModelEventListeners(Object oldTarget) {
        /* Do nothing by default. */
    }

    /**
     * This function allows subclasses to listen to more modelelements.
     * The given target is guaranteed to be a UML modelelement.
     *
     * @param newTarget the UML modelelement
     */
    protected void addOtherModelEventListeners(Object newTarget) {
        /* Do nothing by default. */
    }

    /**
     * Returns true if the given element is valid, i.e. it may be added to the
     * list of elements.
     *
     * @param element the element to be tested
     * @return true if valid
     */
    protected abstract boolean isValidElement(Object element);

    /**
     * Returns true if some event is valid. An event is valid if the
     * element changed in the event is valid. This is determined via a
     * call to isValidElement.  This method can be overriden by
     * subclasses if they cannot determine if it is a valid event just
     * by checking the changed element.
     *
     * @param e the event
     * @return boolean true if valid
     */
    protected boolean isValidEvent(PropertyChangeEvent e) {
        boolean valid = false;
        if (!(getChangedElement(e) instanceof Collection)) {
            // TODO: Considering all delete events to be valid like below
            // is going to cause lots of unecessary work and some problems
            if ((e.getNewValue() == null &amp;&amp; e.getOldValue() != null)
                    // Don't test changed element if it was deleted
                    || isValidElement(getChangedElement(e))) {
                valid = true; // we tried to remove a value
            }
        } else {
            Collection col = (Collection) getChangedElement(e);
            Iterator it = col.iterator();
            if (!col.isEmpty()) {
                valid = true;
                while (it.hasNext()) {
                    Object o = it.next();
                    if (!isValidElement(o)) {
                        valid = false;
                        break;
                    }
                }
            } else {
                if (e.getOldValue() instanceof Collection
                    &amp;&amp; !((Collection) e.getOldValue()).isEmpty()) {
                    valid = true;
                }
            }
        }
        return valid;
    }

    /*
     * @see javax.swing.DefaultListModel#addElement(java.lang.Object)
     */
    public void addElement(Object obj) {
        if (obj != null &amp;&amp; !contains(obj)) {
            super.addElement(obj);
        }
    }

    /**
     * Returns the eventName. This method is only here for testing goals.
     * @return String
     */
    String getEventName() {
        return eventName;
    }

    /**
     * Sets the eventName. The eventName is the name of the
     * MElementEvent to which the list should listen. The list is
     * registred with UMLModelEventPump and only gets events that have
     * a name like eventName.  This method should be called in the
     * constructor of every subclass.
     *
     * @param theEventName The eventName to set
     */
    protected void setEventName(String theEventName) {
        eventName = theEventName;
    }

    /*
     * @see TargetListener#targetAdded(TargetEvent)
     */
    public void targetAdded(TargetEvent e) {
        setTarget(e.getNewTarget());
    }

    /*
     * @see TargetListener#targetRemoved(TargetEvent)
     */
    public void targetRemoved(TargetEvent e) {
        setTarget(e.getNewTarget());
    }

    /*
     * @see TargetListener#targetSet(TargetEvent)
     */
    public void targetSet(TargetEvent e) {
        setTarget(e.getNewTarget());
    }

    /*
     * @see javax.swing.AbstractListModel#fireContentsChanged(
     *          Object, int, int)
     */
    protected void fireContentsChanged(Object source, int index0, int index1) {
        if (fireListEvents &amp;&amp; !buildingModel) {
            super.fireContentsChanged(source, index0, index1);
        }
    }

    /*
     * @see javax.swing.AbstractListModel#fireIntervalAdded(
     *          Object, int, int)
     */
    protected void fireIntervalAdded(Object source, int index0, int index1) {
        if (fireListEvents &amp;&amp; !buildingModel) {
            super.fireIntervalAdded(source, index0, index1);
        }
    }

    /*
     * @see javax.swing.AbstractListModel#fireIntervalRemoved(
     *          Object, int, int)
     */
    protected void fireIntervalRemoved(Object source, int index0, int index1) {
        if (fireListEvents &amp;&amp; !buildingModel) {
            super.fireIntervalRemoved(source, index0, index1);
        }
    }

    /**
     * Override this if you want a popup menu.
     * See for an example UMLModelElementOrderedListModel2.
     *
     * @param popup the popup menu
     * @param index the selected item in the list at the moment
     *              the mouse was clicked
     * @return true if a popup menu is created, and needs to be shown
     */
    public boolean buildPopup(JPopupMenu popup, int index) {
        return false;
    }

    protected boolean hasPopup() {
        return false;
    }

}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/ui/FigEdgeModelElement.java</td>
<td>1430</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/FigNodeModelElement.java</td>
<td>2167</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }


    /**
     * Add an element listener and remember the registration.
     *
     * @param element
     *            element to listen for changes on
     * @see org.argouml.model.ModelEventPump#addModelEventListener(PropertyChangeListener, Object, String)
     */
    protected void addElementListener(Object element) {
        listeners.add(new Object[] {element, null});
        Model.getPump().addModelEventListener(this, element);
    }

    /**
     * Add a listener and remember the registration.
     *
     * @param element
     *            element to listen for changes on
     * @param property
     *            name of property to listen for changes of
     * @see org.argouml.model.ModelEventPump#addModelEventListener(PropertyChangeListener, Object, String)
     */
    protected void addElementListener(Object element, String property) {
        listeners.add(new Object[] {element, property});
        Model.getPump().addModelEventListener(this, element, property);
    }

    /**
     * Add a listener and remember the registration.
     *
     * @param element
     *            element to listen for changes on
     * @param property
     *            array of property names (Strings) to listen for changes of
     * @see org.argouml.model.ModelEventPump#addModelEventListener(PropertyChangeListener, Object, String)
     */
    protected void addElementListener(Object element, String[] property) {
        listeners.add(new Object[] {element, property});
        Model.getPump().addModelEventListener(this, element, property);
    }

    /**
     * Add an element listener and remember the registration.
     *
     * @param element
     *            element to listen for changes on
     * @see org.argouml.model.ModelEventPump#addModelEventListener(PropertyChangeListener, Object, String)
     */
    protected void removeElementListener(Object element) {
        listeners.remove(new Object[] {element, null});
        Model.getPump().removeModelEventListener(this, element);
    }


    /**
     * Unregister all listeners registered through addElementListener
     * @see #addElementListener(Object, String)
     */
    protected void removeAllElementListeners() {
        removeElementListeners(listeners);
    }

    private void removeElementListeners(Set&lt;Object[]&gt; listenerSet) {
        for (Object[] listener : listenerSet) {
            Object property = listener[1];
            if (property == null) {
                Model.getPump().removeModelEventListener(this, listener[0]);
            } else if (property instanceof String[]) {
                Model.getPump().removeModelEventListener(this, listener[0],
                        (String[]) property);
            } else if (property instanceof String) {
                Model.getPump().removeModelEventListener(this, listener[0],
                        (String) property);
            } else {
                throw new RuntimeException(
                        &quot;Internal error in removeAllElementListeners&quot;);
            }
        }
        listeners.removeAll(listenerSet);
    }

    private void addElementListeners(Set&lt;Object[]&gt; listenerSet) {
        for (Object[] listener : listenerSet) {
            Object property = listener[1];
            if (property == null) {
                addElementListener(listener[0]);
            } else if (property instanceof String[]) {
                addElementListener(listener[0], (String[]) property);
            } else if (property instanceof String) {
                addElementListener(listener[0], (String) property);
            } else {
                throw new RuntimeException(
                        &quot;Internal error in addElementListeners&quot;);
            }
        }
    }

    /**
     * Update the set of registered listeners to match the given set using
     * a minimal update strategy to remove unneeded listeners and add new
     * listeners.
     *
     * @param listenerSet a set of arrays containing a tuple of a UML element
     * to be listened to and a set of property to be listened for.
     */
    protected void updateElementListeners(Set&lt;Object[]&gt; listenerSet) {
        Set&lt;Object[]&gt; removes = new HashSet&lt;Object[]&gt;(listeners);
        removes.removeAll(listenerSet);
        removeElementListeners(removes);

        Set&lt;Object[]&gt; adds = new HashSet&lt;Object[]&gt;(listenerSet);
        adds.removeAll(listeners);
        addElementListeners(adds);
    }

    /**
     * This optional method is not implemented.  It will throw an
     * {@link UnsupportedOperationException} if used. Figs are
     * added to a GraphModel which is, in turn, owned by a project.
     * @param project the project
     * @deprecated
     */
    @SuppressWarnings(&quot;deprecation&quot;)</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/activity/ui/UMLActivityDiagram.java</td>
<td>547</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/UMLStateDiagram.java</td>
<td>628</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }
    /**
     * @return Returns the actionTransition.
     */
    protected Action getActionTransition() {
        if (actionTransition == null) {
            actionTransition =
                new RadioAction(
                        new ActionSetMode(
                                ModeCreatePolyEdge.class,
                                &quot;edgeClass&quot;,
                                Model.getMetaTypes().getTransition(),
                        &quot;button.new-transition&quot;));
        }
        return actionTransition;
    }

    /**
     * @return Returns the actionCallEvent.
     */
    protected Action getActionCallEvent() {
        if (actionCallEvent == null) {
            actionCallEvent = new ButtonActionNewCallEvent();
        }
        return actionCallEvent;
    }

    /**
     * @return Returns the actionCallEvent.
     */
    protected Action getActionChangeEvent() {
        if (actionChangeEvent == null) {
            actionChangeEvent = new ButtonActionNewChangeEvent();
        }
        return actionChangeEvent;
    }

    /**
     * @return Returns the actionCallEvent.
     */
    protected Action getActionSignalEvent() {
        if (actionSignalEvent == null) {
            actionSignalEvent = new ButtonActionNewSignalEvent();
        }
        return actionSignalEvent;
    }

    /**
     * @return Returns the actionCallEvent.
     */
    protected Action getActionTimeEvent() {
        if (actionTimeEvent == null) {
            actionTimeEvent = new ButtonActionNewTimeEvent();
        }
        return actionTimeEvent;
    }

    protected Action getActionGuard() {
        if (actionGuard == null) {
            actionGuard = new ButtonActionNewGuard();
        }
        return actionGuard;
    }

    protected Action getActionCallAction() {
        if (actionCallAction == null) {
            actionCallAction = ActionNewCallAction.getButtonInstance();
        }
        return actionCallAction;
    }

    protected Action getActionCreateAction() {
        if (actionCreateAction == null) {
            actionCreateAction = ActionNewCreateAction.getButtonInstance();
        }
        return actionCreateAction;
    }

    protected Action getActionDestroyAction() {
        if (actionDestroyAction == null) {
            actionDestroyAction = ActionNewDestroyAction.getButtonInstance();
        }
        return actionDestroyAction;
    }

    protected Action getActionReturnAction() {
        if (actionReturnAction == null) {
            actionReturnAction = ActionNewReturnAction.getButtonInstance();
        }
        return actionReturnAction;
    }

    protected Action getActionSendAction() {
        if (actionSendAction == null) {
            actionSendAction = ActionNewSendAction.getButtonInstance();
        }
        return actionSendAction;
    }

    protected Action getActionTerminateAction() {
        if (actionTerminateAction == null) {
            actionTerminateAction =
                ActionNewTerminateAction.getButtonInstance();
        }
        return actionTerminateAction;
    }

    protected Action getActionUninterpretedAction() {
        if (actionUninterpretedAction == null) {
            actionUninterpretedAction =
                ActionNewUninterpretedAction.getButtonInstance();
        }
        return actionUninterpretedAction;
    }

    protected Action getActionActionSequence() {
        if (actionActionSequence == null) {
            actionActionSequence =
                ActionNewActionSequence.getButtonInstance();
        }
        return actionActionSequence;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/ui/MenuBar14.java</td>
<td>56</td></tr>
<tr class="a">
<td>org/argouml/ui/MenuBar2.java</td>
<td>56</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>public class MenuBar14 extends GenericArgoMenuBar {
    
    /**
     * Build the menu &quot;Create&quot; and the toolbar for diagram creation. These are
     * build together to guarantee that the same items are present in both, and
     * in the same sequence.
     * &lt;p&gt;
     * 
     * The sequence of these items was determined by issue 1821.
     */
    protected void initMenuCreate() {
        super.initMenuCreate();
        getCreateDiagramMenu().removeAll();
        getCreateDiagramToolbar().removeAll();
        JMenuItem usecaseDiagram = getCreateDiagramMenu()
                .add(new ActionUseCaseDiagram());
        setMnemonic(usecaseDiagram, &quot;Usecase Diagram&quot;);
        getCreateDiagramToolbar().add((new ActionUseCaseDiagram()));
        ShortcutMgr.assignAccelerator(usecaseDiagram,
                ShortcutMgr.ACTION_USE_CASE_DIAGRAM);

        JMenuItem classDiagram =
            getCreateDiagramMenu().add(new ActionClassDiagram());
        setMnemonic(classDiagram, &quot;Class Diagram&quot;);
        getCreateDiagramToolbar().add((new ActionClassDiagram()));
        ShortcutMgr.assignAccelerator(classDiagram,
                ShortcutMgr.ACTION_CLASS_DIAGRAM);

        JMenuItem sequenzDiagram =
            getCreateDiagramMenu().add(new ActionSequenceDiagram());
        setMnemonic(sequenzDiagram, &quot;Sequenz Diagram&quot;);
        getCreateDiagramToolbar().add((new ActionSequenceDiagram()));
        ShortcutMgr.assignAccelerator(sequenzDiagram,
                ShortcutMgr.ACTION_SEQUENCE_DIAGRAM);
        
        JMenuItem collaborationDiagram =
            getCreateDiagramMenu().add(new ActionCollaborationDiagram());
        setMnemonic(collaborationDiagram, &quot;Collaboration Diagram&quot;);
        getCreateDiagramToolbar().add((new ActionCollaborationDiagram()));
        ShortcutMgr.assignAccelerator(collaborationDiagram,
                ShortcutMgr.ACTION_COLLABORATION_DIAGRAM);

        JMenuItem stateDiagram =
            getCreateDiagramMenu().add(new ActionStateDiagram());
        setMnemonic(stateDiagram, &quot;State Diagram&quot;);
        getCreateDiagramToolbar().add((new ActionStateDiagram()));
        ShortcutMgr.assignAccelerator(stateDiagram,
                ShortcutMgr.ACTION_STATE_DIAGRAM);

        JMenuItem activityDiagram =
            getCreateDiagramMenu().add(new ActionActivityDiagram());
        setMnemonic(activityDiagram, &quot;Activity Diagram&quot;);
        getCreateDiagramToolbar().add((new ActionActivityDiagram()));
        ShortcutMgr.assignAccelerator(activityDiagram,
                ShortcutMgr.ACTION_ACTIVITY_DIAGRAM);

        JMenuItem deploymentDiagram =
            getCreateDiagramMenu().add(new ActionDeploymentDiagram());
        setMnemonic(deploymentDiagram, &quot;Deployment Diagram&quot;);
        getCreateDiagramToolbar().add((new ActionDeploymentDiagram()));
        ShortcutMgr.assignAccelerator(deploymentDiagram,
                ShortcutMgr.ACTION_DEPLOYMENT_DIAGRAM);

        getCreateDiagramToolbar().setFloatable(true);
    }
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/notation/providers/uml/ComponentInstanceNotationUml.java</td>
<td>62</td></tr>
<tr class="a">
<td>org/argouml/notation/providers/uml/NodeInstanceNotationUml.java</td>
<td>62</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        super(componentInstance);
    }

    /**
     * Parse a line of the form: &quot;name : base-component&quot;.
     * &lt;p&gt;
     * The base-component part is a comma separated list of Components. &lt;p&gt;
     * 
     * Note that stereotypes are not supported.
     *
     * {@inheritDoc}
     */
    public void parse(Object modelElement, String text) {
        // strip any trailing semi-colons
        String s = text.trim();
        if (s.length() == 0) {
            return;
        }
        if (s.charAt(s.length() - 1) == ';') {
            s = s.substring(0, s.length() - 2);
        }

        String name = &quot;&quot;;
        String bases = &quot;&quot;;
        StringTokenizer tokenizer = null;

        if (s.indexOf(&quot;:&quot;, 0) &gt; -1) {
            name = s.substring(0, s.indexOf(&quot;:&quot;)).trim();
            bases = s.substring(s.indexOf(&quot;:&quot;) + 1).trim();
        } else {
            name = s;
        }

        tokenizer = new StringTokenizer(bases, &quot;,&quot;);

        List&lt;Object&gt; classifiers = new ArrayList&lt;Object&gt;();
        Object ns = Model.getFacade().getNamespace(modelElement);
        if (ns != null) {
            while (tokenizer.hasMoreElements()) {
                String newBase = tokenizer.nextToken();
                Object cls = Model.getFacade().lookupIn(ns, newBase.trim());
                if (cls != null) {
                    classifiers.add(cls);
                }
            }
        }

        Model.getCommonBehaviorHelper().setClassifiers(modelElement,
                classifiers);
        Model.getCoreHelper().setName(modelElement, name);
    }

    /*
     * @see org.argouml.notation.providers.NotationProvider#getParsingHelp()
     */
    public String getParsingHelp() {
        return &quot;parsing.help.fig-componentinstance&quot;;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigForkState.java</td>
<td>100</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigJoinState.java</td>
<td>100</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        FigForkState figClone = (FigForkState) super.clone();
        Iterator it = figClone.getFigs().iterator();
        figClone.setBigPort((FigRect) it.next());
        figClone.head = (FigRect) it.next();
        return figClone;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setBounds(int, int, int, int)
     */
    @Override
    protected void setStandardBounds(int x, int y, int w, int h) {
        Rectangle oldBounds = getBounds();
        if (w &gt; h) {
            h = HEIGHT;
        } else {
            w = HEIGHT;
        }
        getBigPort().setBounds(x, y, w, h);
        head.setBounds(x, y, w, h);

        calcBounds();
        updateEdges();
        firePropChange(&quot;bounds&quot;, oldBounds, getBounds());
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        // noop - fixed rendering
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }
   
    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override
    public void mouseClicked(MouseEvent me) {
        // ignored
    }

    /**
     * The UID.
     */
    static final long serialVersionUID = 6702818473439087473L;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/ui/TabProps.java</td>
<td>382</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/TabStyle.java</td>
<td>482</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        repaint();
    }

    /**
     * Adds a listener.
     * @param listener the listener to add
     */
    private void addTargetListener(TargetListener listener) {
        listenerList.add(TargetListener.class, listener);
    }

    /**
     * Removes a target listener.
     * @param listener the listener to remove
     */
    private void removeTargetListener(TargetListener listener) {
        listenerList.remove(TargetListener.class, listener);
    }

    private void fireTargetSet(TargetEvent targetEvent) {
        //      Guaranteed to return a non-null array
        Object[] listeners = listenerList.getListenerList();
        for (int i = listeners.length - 2; i &gt;= 0; i -= 2) {
            if (listeners[i] == TargetListener.class) {
                // Lazily create the event:
		((TargetListener) listeners[i + 1]).targetSet(targetEvent);
            }
        }
    }

    private void fireTargetAdded(TargetEvent targetEvent) {
        // Guaranteed to return a non-null array
        Object[] listeners = listenerList.getListenerList();

        for (int i = listeners.length - 2; i &gt;= 0; i -= 2) {
            if (listeners[i] == TargetListener.class) {
                // Lazily create the event:
		((TargetListener) listeners[i + 1]).targetAdded(targetEvent);
            }
        }
    }

    private void fireTargetRemoved(TargetEvent targetEvent) {
        // Guaranteed to return a non-null array
        Object[] listeners = listenerList.getListenerList();
        for (int i = listeners.length - 2; i &gt;= 0; i -= 2) {
            if (listeners[i] == TargetListener.class) {
                // Lazily create the event:
                ((TargetListener) listeners[i + 1]).targetRemoved(targetEvent);
            }
        }
    }
} /* end class TabProps */</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/notation/providers/java/ModelElementNameNotationJava.java</td>
<td>125</td></tr>
<tr class="a">
<td>org/argouml/notation/providers/uml/NotationUtilityUml.java</td>
<td>321</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                } else if (&quot;.&quot;.equals(token)) {
                    if (name != null) {
                        name = name.trim();
                    }

                    if (path != null &amp;&amp; (name == null || &quot;&quot;.equals(name))) {
                        String msg = 
                            &quot;parsing.error.model-element-name.anon-qualifiers&quot;;
                        throw new ParseException(Translator.localize(msg), 
                                st.getTokenIndex());
                    }

                    if (path == null) {
                        path = new ArrayList&lt;String&gt;();
                    }
                    if (name != null) {
                        path.add(name);
                    }
                    name = null;
                
                } else { // the name itself
                    if (name != null) {
                        String msg = 
                            &quot;parsing.error.model-element-name.twin-names&quot;;
                        throw new ParseException(Translator.localize(msg), 
                                st.getTokenIndex());
                    }
                    name = token;
                }
            }
        } catch (NoSuchElementException nsee) {
            String msg = 
                &quot;parsing.error.model-element-name.unexpected-name-element&quot;;
            throw new ParseException(Translator.localize(msg),
                    text.length());
        } catch (ParseException pre) {
            throw pre;
        }
        
        if (name != null) {
            name = name.trim();
        }
        
        if (path != null &amp;&amp; (name == null || &quot;&quot;.equals(name))) {
            String msg = &quot;parsing.error.model-element-name.must-end-with-name&quot;;
            throw new ParseException(Translator.localize(msg), 0);
        }
        
        /* Check the name for validity: */
        if (!isValidJavaClassName(name)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/ui/foundation/core/ActionAddDataType.java</td>
<td>63</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/foundation/core/ActionAddEnumeration.java</td>
<td>66</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        putValue(Action.NAME, Translator.localize(&quot;button.new-datatype&quot;));
    }

    /*
     * @see java.awt.event.ActionListener#actionPerformed(java.awt.event.ActionEvent)
     */
    public void actionPerformed(ActionEvent e) {
        Object target = TargetManager.getInstance().getModelTarget();
        Object ns = null;
        if (Model.getFacade().isANamespace(target)) {
            ns = target;
        }
        if (Model.getFacade().isAParameter(target)) {
            if (Model.getFacade().getBehavioralFeature(target) != null) {
                target = Model.getFacade().getBehavioralFeature(target);
            }
        }
        if (Model.getFacade().isAFeature(target)) {
            if (Model.getFacade().getOwner(target) != null) {
                target = Model.getFacade().getOwner(target);
            }
        }
        if (Model.getFacade().isAEvent(target)) {
            ns = Model.getFacade().getNamespace(target);
        }
        if (Model.getFacade().isAClassifier(target)) {
            ns = Model.getFacade().getNamespace(target);
        }
        if (Model.getFacade().isAAssociationEnd(target)) {
            target = Model.getFacade().getAssociation(target);
            ns = Model.getFacade().getNamespace(target);
        }

        Object newDt = Model.getCoreFactory().buildDataType(&quot;&quot;, ns);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrInstanceWithoutClassifier.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrInterfaceWithoutComponent.java</td>
<td>65</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public CrInstanceWithoutClassifier() {
        setupHeadAndDesc();
	addSupportedDecision(UMLDecision.PATTERNS);
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#predicate2(
     *      java.lang.Object, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
	if (!(dm instanceof UMLDeploymentDiagram)) {
	    return NO_PROBLEM;
	}
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	if (offs == null) {
	    return NO_PROBLEM;
	}
	return PROBLEM_FOUND;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem( java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	return new UMLToDoItem(this, offs, dsgr);
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
	if (!isActive()) {
	    return false;
	}
	ListSet offs = i.getOffenders();
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) offs.get(0);
	//if (!predicate(dm, dsgr)) return false;
	ListSet newOffs = computeOffenders(dd);
	boolean res = offs.equals(newOffs);
	return res;
    }

    /**
     * If there are instances that have no classifiers they belong to
     * the returned ListSet is not null. Then in the ListSet
     * are the UMLDeploymentDiagram and all FigObjects, FigComponentInstances
     * and FigMNodeInstances with no classifier.
     *
     * @param dd the diagram to check
     * @return the set of offenders
     */
    public ListSet computeOffenders(UMLDeploymentDiagram dd) {
	Collection figs = dd.getLayer().getContents();
	ListSet offs = null;
        Iterator figIter = figs.iterator();
	while (figIter.hasNext()) {
	    Object obj = figIter.next();
	    if (!(obj instanceof FigNodeModelElement)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNodeInstanceInsideElement.java</td>
<td>63</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNodeInstanceWithoutClassifier.java</td>
<td>62</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public CrNodeInstanceInsideElement() {
        setupHeadAndDesc();
	addSupportedDecision(UMLDecision.PATTERNS);
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#predicate2(
     *      java.lang.Object, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
	if (!(dm instanceof UMLDeploymentDiagram)) {
            return NO_PROBLEM;
        }
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	if (offs == null) {
            return NO_PROBLEM;
        }
	return PROBLEM_FOUND;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem( java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	return new UMLToDoItem(this, offs, dsgr);
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
	if (!isActive()) {
            return false;
        }
	ListSet offs = i.getOffenders();
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) offs.get(0);
	//if (!predicate(dm, dsgr)) return false;
	ListSet newOffs = computeOffenders(dd);
	boolean res = offs.equals(newOffs);
	return res;
    }

    /**
     * If there are node-instances that have an enclosing Fig
     * the returned vector-set is not null. Then in the vector-set
     * are the UMLDeploymentDiagram and all FigMNodeInstances with an
     * enclosing Fig
     *
     * @param dd the diagram to check
     * @return the set of offenders
     */
    public ListSet computeOffenders(UMLDeploymentDiagram dd) {
	Collection figs = dd.getLayer().getContents();
	ListSet offs = null;
        for (Object obj : figs) {
	    if (!(obj instanceof FigNodeInstance)) {
                continue;
            }
	    FigNodeInstance fn = (FigNodeInstance) obj;
	    if (fn.getEnclosingFig() != null) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrObjectWithoutClassifier.java</td>
<td>63</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrObjectWithoutComponent.java</td>
<td>64</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public CrObjectWithoutClassifier() {
        setupHeadAndDesc();
	addSupportedDecision(UMLDecision.PATTERNS);
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#predicate2(
     *      java.lang.Object, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
	if (!(dm instanceof UMLDeploymentDiagram)) {
            return NO_PROBLEM;
        }
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	if (offs == null) {
	    return NO_PROBLEM;
	}
	return PROBLEM_FOUND;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem( java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	return new UMLToDoItem(this, offs, dsgr);
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
	if (!isActive()) {
            return false;
        }
	ListSet offs = i.getOffenders();
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) offs.get(0);
	//if (!predicate(dm, dsgr)) return false;
	ListSet newOffs = computeOffenders(dd);
	boolean res = offs.equals(newOffs);
	return res;
    }

    /**
     * If there are objects that are not inside a component or a
     * component-instance the returned vector-set is not null. Then in
     * the vector-set are the UMLDeploymentDiagram and all FigObjects
     * with no enclosing FigComponent or FigComponentInstance
     *
     * @param dd the diagram to check
     * @return the set of offenders
     */
    public ListSet computeOffenders(UMLDeploymentDiagram dd) {
	Collection figs = dd.getLayer().getContents();
	ListSet offs = null;
        for (Object obj : figs) {
	    if (!(obj instanceof FigObject)) {
                continue;
            }
	    FigObject fo = (FigObject) obj;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/WizStepConfirm.java</td>
<td>70</td></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/WizStepTextField.java</td>
<td>73</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	instructions.setWrapStyleWord(true);

	getMainPanel().setBorder(new EtchedBorder());

	GridBagLayout gb = new GridBagLayout();
	getMainPanel().setLayout(gb);

	GridBagConstraints c = new GridBagConstraints();
	c.ipadx = 3; c.ipady = 3;
	c.weightx = 0.0; c.weighty = 0.0;
	c.anchor = GridBagConstraints.EAST;

	JLabel image = new JLabel(&quot;&quot;);
	//image.setMargin(new Insets(0, 0, 0, 0));
	image.setIcon(getWizardIcon());
	image.setBorder(null);
	c.gridx = 0;
	c.gridheight = 4;
	c.gridy = 0;
	gb.setConstraints(image, c);
	getMainPanel().add(image);

	c.weightx = 1.0;
	c.gridx = 2;
	c.gridheight = 1;
	c.gridwidth = 3;
	c.gridy = 0;
	c.fill = GridBagConstraints.HORIZONTAL;
	gb.setConstraints(instructions, c);
	getMainPanel().add(instructions);

	c.gridx = 1;
	c.gridy = 1;
	c.weightx = 0.0;
	c.gridwidth = 1;
	c.fill = GridBagConstraints.NONE;
	SpacerPanel spacer = new SpacerPanel();
	gb.setConstraints(spacer, c);
	getMainPanel().add(spacer);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/activity/ui/UMLActivityDiagram.java</td>
<td>839</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/UMLStateDiagram.java</td>
<td>909</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>            figNode = new FigFinalState(modelElement, bounds, settings);
        } else if (Model.getFacade().isAPseudostate(modelElement)) {
            Object kind = Model.getFacade().getKind(modelElement);
            if (kind == null) {
                LOG.log(Level.WARNING, &quot;found a null type pseudostate&quot;);
                return null;
            }
            if (kind.equals(Model.getPseudostateKind().getInitial())) {
                figNode = new FigInitialState(modelElement, bounds, settings);
            } else if (kind.equals(
                    Model.getPseudostateKind().getChoice())) {
                figNode = new FigBranchState(modelElement, bounds, settings);
            } else if (kind.equals(
                    Model.getPseudostateKind().getJunction())) {
                figNode = new FigJunctionState(modelElement, bounds, settings);
            } else if (kind.equals(
                    Model.getPseudostateKind().getFork())) {
                figNode = new FigForkState(modelElement, bounds, settings);
            } else if (kind.equals(
                    Model.getPseudostateKind().getJoin())) {
                figNode = new FigJoinState(modelElement, bounds, settings);
            } else {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNodeInsideElement.java</td>
<td>63</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNodeInstanceInsideElement.java</td>
<td>63</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNodeInstanceWithoutClassifier.java</td>
<td>62</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrObjectWithoutClassifier.java</td>
<td>63</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrObjectWithoutComponent.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrWrongDepEnds.java</td>
<td>64</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public CrNodeInsideElement() {
        setupHeadAndDesc();
	addSupportedDecision(UMLDecision.PATTERNS);
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#predicate2(
     *      java.lang.Object, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
	if (!(dm instanceof UMLDeploymentDiagram)) {
            return NO_PROBLEM;
        }
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	if (offs == null) {
            return NO_PROBLEM;
        }
	return PROBLEM_FOUND;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem( java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	return new UMLToDoItem(this, offs, dsgr);
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
	if (!isActive()) {
            return false;
        }
	ListSet offs = i.getOffenders();
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) offs.get(0);
	//if (!predicate(dm, dsgr)) return false;
	ListSet newOffs = computeOffenders(dd);
	boolean res = offs.equals(newOffs);
	return res;
    }

    /**
     * If there are nodes that have an enclosing Fig
     * the returned ListSet is not null. Then in the ListSet
     * are the UMLDeploymentDiagram and all FigMNodes with an
     * enclosing Fig
     *
     * @param dd the diagram to check
     * @return the set of offenders
     */
    public ListSet computeOffenders(UMLDeploymentDiagram dd) {
	Collection figs = dd.getLayer().getContents();
	ListSet offs = null;
        for (Object obj : figs) {
	    if (!(obj instanceof FigMNode)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/ui/DetailsPane.java</td>
<td>690</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/TabProps.java</td>
<td>399</td></tr>
<tr class="b">
<td>org/argouml/uml/ui/TabStyle.java</td>
<td>503</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    }

    private void fireTargetSet(TargetEvent targetEvent) {
        //          Guaranteed to return a non-null array
        Object[] listeners = listenerList.getListenerList();
        for (int i = listeners.length - 2; i &gt;= 0; i -= 2) {
            if (listeners[i] == TargetListener.class) {
                // Lazily create the event:
		((TargetListener) listeners[i + 1]).targetSet(targetEvent);
            }
        }
    }

    private void fireTargetAdded(TargetEvent targetEvent) {
        // Guaranteed to return a non-null array
        Object[] listeners = listenerList.getListenerList();

        for (int i = listeners.length - 2; i &gt;= 0; i -= 2) {
            if (listeners[i] == TargetListener.class) {
                // Lazily create the event:
		((TargetListener) listeners[i + 1]).targetAdded(targetEvent);
            }
        }
    }

    private void fireTargetRemoved(TargetEvent targetEvent) {
        // Guaranteed to return a non-null array
        Object[] listeners = listenerList.getListenerList();
        for (int i = listeners.length - 2; i &gt;= 0; i -= 2) {
            if (listeners[i] == TargetListener.class) {
                // Lazily create the event:
                ((TargetListener) listeners[i + 1]).targetRemoved(targetEvent);
            }
        }
    }

}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/ToDoByOffender.java</td>
<td>77</td></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/ToDoByOffender.java</td>
<td>124</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        LOG.log(Level.FINE, &quot;toDoItemsChanged&quot;);
        List&lt;ToDoItem&gt; items = tde.getToDoItemList();
        Object[] path = new Object[2];
        path[0] = Designer.theDesigner().getToDoList();

        ListSet allOffenders = Designer.theDesigner().getToDoList()
                .getOffenders();
        synchronized (allOffenders) {
            for (Object off : allOffenders) {
                path[1] = off;
                int nMatchingItems = 0;
                synchronized (items) {
                    for (ToDoItem item : items) {
                        ListSet offenders = item.getOffenders();
                        if (!offenders.contains(off)) {
                            continue;
                        }
                        nMatchingItems++;
                    }
                }
                if (nMatchingItems == 0) {
                    continue;
                }
                int[] childIndices = new int[nMatchingItems];
                Object[] children = new Object[nMatchingItems];
                nMatchingItems = 0;
                synchronized (items) {
                    for (ToDoItem item : items) {
                        ListSet offenders = item.getOffenders();
                        if (!offenders.contains(off)) {
                            continue;
                        }
                        childIndices[nMatchingItems] = getIndexOfChild(off,
                                item);
                        children[nMatchingItems] = item;
                        nMatchingItems++;
                    }
                }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrComponentWithoutNode.java</td>
<td>65</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrInstanceWithoutClassifier.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrInterfaceWithoutComponent.java</td>
<td>65</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public CrComponentWithoutNode() {
        setupHeadAndDesc();
	addSupportedDecision(UMLDecision.PATTERNS);
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#predicate2(
     *      java.lang.Object, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
	if (!(dm instanceof UMLDeploymentDiagram)) {
	    return NO_PROBLEM;
	}
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	if (offs == null) {
	    return NO_PROBLEM;
	}
	return PROBLEM_FOUND;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem( java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	return new UMLToDoItem(this, offs, dsgr);
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
	if (!isActive()) {
	    return false;
	}
	ListSet offs = i.getOffenders();
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) offs.get(0);
	//if (!predicate(dm, dsgr)) return false;
	ListSet newOffs = computeOffenders(dd);
	boolean res = offs.equals(newOffs);
	return res;
    }


    /**
     * If there are components that have no enclosing FigMNode
     * the returned ListSet is not null. Then in the ListSet
     * are the UMLDeploymentDiagram and all FigComponents with no
     * enclosing FigMNode
     *
     * @param dd the diagram to check
     * @return the set of offenders
     */
    public ListSet computeOffenders(UMLDeploymentDiagram dd) {

	Collection figs = dd.getLayer().getContents();
	ListSet offs = null;
	Iterator figIter = figs.iterator();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrComponentWithoutNode.java</td>
<td>65</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrInstanceWithoutClassifier.java</td>
<td>64</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrInterfaceWithoutComponent.java</td>
<td>65</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNodeInsideElement.java</td>
<td>63</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNodeInstanceInsideElement.java</td>
<td>63</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNodeInstanceWithoutClassifier.java</td>
<td>62</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrObjectWithoutClassifier.java</td>
<td>63</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrObjectWithoutComponent.java</td>
<td>64</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrWrongDepEnds.java</td>
<td>64</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    public CrComponentWithoutNode() {
        setupHeadAndDesc();
	addSupportedDecision(UMLDecision.PATTERNS);
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#predicate2(
     *      java.lang.Object, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
	if (!(dm instanceof UMLDeploymentDiagram)) {
	    return NO_PROBLEM;
	}
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	if (offs == null) {
	    return NO_PROBLEM;
	}
	return PROBLEM_FOUND;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem( java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	return new UMLToDoItem(this, offs, dsgr);
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
	if (!isActive()) {
	    return false;
	}
	ListSet offs = i.getOffenders();
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) offs.get(0);
	//if (!predicate(dm, dsgr)) return false;
	ListSet newOffs = computeOffenders(dd);
	boolean res = offs.equals(newOffs);
	return res;
    }


    /**
     * If there are components that have no enclosing FigMNode
     * the returned ListSet is not null. Then in the ListSet
     * are the UMLDeploymentDiagram and all FigComponents with no
     * enclosing FigMNode
     *
     * @param dd the diagram to check
     * @return the set of offenders
     */
    public ListSet computeOffenders(UMLDeploymentDiagram dd) {

	Collection figs = dd.getLayer().getContents();
	ListSet offs = null;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrCompInstanceWithoutNode.java</td>
<td>65</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrComponentInstanceWithoutClassifier.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrWrongLinkEnds.java</td>
<td>64</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public CrCompInstanceWithoutNode() {
        setupHeadAndDesc();
	addSupportedDecision(UMLDecision.PATTERNS);
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#predicate2(
     *      java.lang.Object, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
	if (!(dm instanceof UMLDeploymentDiagram)) {
	    return NO_PROBLEM;
	}
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	if (offs == null) {
	    return NO_PROBLEM;
	}
	return PROBLEM_FOUND;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem(java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	return new UMLToDoItem(this, offs, dsgr);
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
	if (!isActive()) {
	    return false;
	}
	ListSet offs = i.getOffenders();
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) offs.get(0);
	//if (!predicate(dm, dsgr)) return false;
	ListSet newOffs = computeOffenders(dd);
	boolean res = offs.equals(newOffs);
	return res;
    }

    /**
     * If there are component-instances that have no enclosing FigMNodeInstance
     * the returned ListSet is not null. Then in the ListSet
     * are the UMLDeploymentDiagram and all FigComponentInstances with no
     * enclosing FigMNodeInstance
     *
     * @param deploymentDiagram the diagram to check
     * @return the set of offenders
     */
    public ListSet computeOffenders(UMLDeploymentDiagram deploymentDiagram) {

	Collection figs = deploymentDiagram.getLayer().getContents();
	ListSet offs = null;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/static_structure/ui/FigClassifierBox.java</td>
<td>225</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/static_structure/ui/FigInterface.java</td>
<td>191</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        if (isCompartmentVisible(Model.getMetaTypes().getAttribute())) {
            Set&lt;Object[]&gt; listeners = new HashSet&lt;Object[]&gt;();

            // Collect the set of model elements that we want to listen to
            if (newOwner != null) {
                // TODO: Because we get called on each and every change event, when
                // the model is in a state of flux, we'll often get an
                // InvalidElementException before we finish this collection. The
                // only saving grace is that we're called SO many times that on the
                // last time, things should be stable again and we'll get a good set
                // of elements for the final update.  We need a better mechanism.
                
                // add the listeners to the newOwner
                listeners.add(new Object[] {newOwner, null});
                
                // and its stereotypes
                // TODO: Aren't stereotypes handled elsewhere?
                for (Object stereotype 
                        : Model.getFacade().getStereotypes(newOwner)) {
                    listeners.add(new Object[] {stereotype, null});
                }

                // and its features
                for (Object feat : Model.getFacade().getFeatures(newOwner)) {
                    listeners.add(new Object[] {feat, null});
                    // and the stereotypes of its features
                    for (Object stereotype 
                            : Model.getFacade().getStereotypes(feat)) {
                        listeners.add(new Object[] {stereotype, null});
                    }
                    // and the parameter of its operations
                    if (Model.getFacade().isAOperation(feat)) {
                        for (Object param : Model.getFacade().getParameters(feat)) {
                            listeners.add(new Object[] {param, null});
                        }
                    }
                }
            }
            
            // Update the listeners to match the desired set using the minimal
            // update facility
            updateElementListeners(listeners);
        } else {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrInvalidForkTriggerOrGuard.java</td>
<td>88</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrInvalidJoinTriggerOrGuard.java</td>
<td>89</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                        Model.getPseudostateKind().getFork())) {
            return NO_PROBLEM;
        }
        boolean hasTrigger =
                (t != null &amp;&amp; Model.getFacade().getName(t) != null
                &amp;&amp; Model.getFacade().getName(t).length() &gt; 0);
        if (hasTrigger) {
            return PROBLEM_FOUND;
        }
        boolean noGuard =
            (g == null || Model.getFacade().getExpression(g) == null
                || Model.getFacade().getBody(Model.getFacade()
                        .getExpression(g)) == null
                || Model.getFacade().getBody(Model.getFacade()
                        .getExpression(g)).toString().length() == 0);
        if (!noGuard) {
            return PROBLEM_FOUND;
        }
        return NO_PROBLEM;
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#getCriticizedDesignMaterials()
     */
    @Override
    public Set&lt;Object&gt; getCriticizedDesignMaterials() {
        Set&lt;Object&gt; ret = new HashSet&lt;Object&gt;();
        ret.add(Model.getMetaTypes().getTransition());
        return ret;
    }
    
    /**
     * The UID.
     */
    private static final long serialVersionUID = -713044875133409390L;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/ToDoByPoster.java</td>
<td>77</td></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/ToDoByPoster.java</td>
<td>119</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        LOG.log(Level.FINE, &quot;toDoItemsChanged&quot;);
        List&lt;ToDoItem&gt; items = tde.getToDoItemList();
	Object[] path = new Object[2];
	path[0] = Designer.theDesigner().getToDoList();

	ListSet&lt;Poster&gt; allPosters =
	    Designer.theDesigner().getToDoList().getPosters();
        synchronized (allPosters) {
            for (Poster p : allPosters) {
                path[1] = p;
                int nMatchingItems = 0;
                for (ToDoItem item : items) {
                    Poster post = item.getPoster();
                    if (post != p) {
                        continue;
                    }
                    nMatchingItems++;
                }
                if (nMatchingItems == 0) {
                    continue;
                }
                int[] childIndices = new int[nMatchingItems];
                Object[] children = new Object[nMatchingItems];
                nMatchingItems = 0;
                for (ToDoItem item : items) {
                    Poster post = item.getPoster();
                    if (post != p) {
                        continue;
                    }
                    childIndices[nMatchingItems] = getIndexOfChild(p, item);
                    children[nMatchingItems] = item;
                    nMatchingItems++;
                }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/ToDoByPriority.java</td>
<td>75</td></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/ToDoByPriority.java</td>
<td>115</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        LOG.log(Level.FINE, &quot;toDoItemChanged&quot;);
        List&lt;ToDoItem&gt; items = tde.getToDoItemList();
	Object[] path = new Object[2];
	path[0] = Designer.theDesigner().getToDoList();

        for (PriorityNode pn : PriorityNode.getPriorityList()) {
	    path[1] = pn;
	    int nMatchingItems = 0;
	    synchronized (items) {
                for (ToDoItem item : items) {
                    if (item.getPriority() != pn.getPriority()) {
                        continue;
                    }
                    nMatchingItems++;
                }
            }
	    if (nMatchingItems == 0) {
                continue;
            }
	    int[] childIndices = new int[nMatchingItems];
	    Object[] children = new Object[nMatchingItems];
	    nMatchingItems = 0;
            synchronized (items) {
                for (ToDoItem item : items) {
                    if (item.getPriority() != pn.getPriority()) {
                        continue;
                    }
                    childIndices[nMatchingItems] = getIndexOfChild(pn, item);
                    children[nMatchingItems] = item;
                    nMatchingItems++;
                }
            }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrClassWithoutComponent.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrComponentWithoutNode.java</td>
<td>65</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrInstanceWithoutClassifier.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrInterfaceWithoutComponent.java</td>
<td>65</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNodeInsideElement.java</td>
<td>63</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNodeInstanceInsideElement.java</td>
<td>63</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNodeInstanceWithoutClassifier.java</td>
<td>62</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrObjectWithoutClassifier.java</td>
<td>63</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrObjectWithoutComponent.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrWrongDepEnds.java</td>
<td>64</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public CrClassWithoutComponent() {
        setupHeadAndDesc();
	addSupportedDecision(UMLDecision.PATTERNS);
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#predicate2(
     *      java.lang.Object, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
	if (!(dm instanceof UMLDeploymentDiagram)) {
	    return NO_PROBLEM;
	}
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	if (offs == null) {
	    return NO_PROBLEM;
	}
	return PROBLEM_FOUND;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem( java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	return new UMLToDoItem(this, offs, dsgr);
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
	if (!isActive()) {
	    return false;
	}
	ListSet offs = i.getOffenders();
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) offs.get(0);
	//if (!predicate(dm, dsgr)) return false;
	ListSet newOffs = computeOffenders(dd);
	boolean res = offs.equals(newOffs);
	return res;
    }

    /**
     * If there are classes that are not inside a component
     * the returned ListSet is not null. Then in the ListSet
     * are the UMLDeploymentDiagram and all FigClasses with no
     * enclosing FigComponent
     *
     * @param dd the deployment diagram
     * @return the set of effenders
     */
    public ListSet computeOffenders(UMLDeploymentDiagram dd) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/ClAttributeCompartment.java</td>
<td>112</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/ClClassName.java</td>
<td>92</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	    int right = fr.x + fr.width - 6;
	    g.setColor(Color.red);
	    int i = left;
	    while (true) {
		g.drawLine(i, height, i + WAVE_LENGTH, height + WAVE_HEIGHT);
		i += WAVE_LENGTH;
		if (i &gt;= right) {
		    break;
		}
		g.drawLine(i, height + WAVE_HEIGHT, i + WAVE_LENGTH, height);
		i += WAVE_LENGTH;
		if (i &gt;= right) {
		    break;
		}
		g.drawLine(i, height, i + WAVE_LENGTH,
			   height + WAVE_HEIGHT / 2);
		i += WAVE_LENGTH;
		if (i &gt;= right) {
		    break;
		}
		g.drawLine(i, height + WAVE_HEIGHT / 2, i + WAVE_LENGTH,
			   height);
		i += WAVE_LENGTH;
		if (i &gt;= right) {
		    break;
		}
	    }
	    fig = null;
	}
    }

    /*
     * @see javax.swing.Icon#getIconWidth()
     */
    public int getIconWidth() { return 0; }

    /*
     * @see javax.swing.Icon#getIconHeight()
     */
    public int getIconHeight() { return 0; }

    /*
     * @see org.argouml.ui.Clarifier#hit(int, int)
     */
    public boolean hit(int x, int y) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrClassWithoutComponent.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrCompInstanceWithoutNode.java</td>
<td>65</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrComponentInstanceWithoutClassifier.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrComponentWithoutNode.java</td>
<td>65</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrInstanceWithoutClassifier.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrInterfaceWithoutComponent.java</td>
<td>65</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNodeInsideElement.java</td>
<td>63</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNodeInstanceInsideElement.java</td>
<td>63</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNodeInstanceWithoutClassifier.java</td>
<td>62</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrObjectWithoutClassifier.java</td>
<td>63</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrObjectWithoutComponent.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrWrongDepEnds.java</td>
<td>64</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrWrongLinkEnds.java</td>
<td>64</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    public CrClassWithoutComponent() {
        setupHeadAndDesc();
	addSupportedDecision(UMLDecision.PATTERNS);
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#predicate2(
     *      java.lang.Object, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
	if (!(dm instanceof UMLDeploymentDiagram)) {
	    return NO_PROBLEM;
	}
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	if (offs == null) {
	    return NO_PROBLEM;
	}
	return PROBLEM_FOUND;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem( java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) dm;
	ListSet offs = computeOffenders(dd);
	return new UMLToDoItem(this, offs, dsgr);
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
	if (!isActive()) {
	    return false;
	}
	ListSet offs = i.getOffenders();
	UMLDeploymentDiagram dd = (UMLDeploymentDiagram) offs.get(0);
	//if (!predicate(dm, dsgr)) return false;
	ListSet newOffs = computeOffenders(dd);
	boolean res = offs.equals(newOffs);
	return res;
    }

    /**
     * If there are classes that are not inside a component
     * the returned ListSet is not null. Then in the ListSet
     * are the UMLDeploymentDiagram and all FigClasses with no
     * enclosing FigComponent
     *
     * @param dd the deployment diagram
     * @return the set of effenders
     */
    public ListSet computeOffenders(UMLDeploymentDiagram dd) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/ClAttributeCompartment.java</td>
<td>113</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/ClClassName.java</td>
<td>93</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/ClOperationCompartment.java</td>
<td>110</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	    g.setColor(Color.red);
	    int i = left;
	    while (true) {
		g.drawLine(i, height, i + WAVE_LENGTH, height + WAVE_HEIGHT);
		i += WAVE_LENGTH;
		if (i &gt;= right) {
		    break;
		}
		g.drawLine(i, height + WAVE_HEIGHT, i + WAVE_LENGTH, height);
		i += WAVE_LENGTH;
		if (i &gt;= right) {
		    break;
		}
		g.drawLine(i, height, i + WAVE_LENGTH,
			   height + WAVE_HEIGHT / 2);
		i += WAVE_LENGTH;
		if (i &gt;= right) {
		    break;
		}
		g.drawLine(i, height + WAVE_HEIGHT / 2, i + WAVE_LENGTH,
			   height);
		i += WAVE_LENGTH;
		if (i &gt;= right) {
		    break;
		}
	    }
	    fig = null;
	}
    }

    /*
     * @see javax.swing.Icon#getIconWidth()
     */
    public int getIconWidth() { return 0; }

    /*
     * @see javax.swing.Icon#getIconHeight()
     */
    public int getIconHeight() { return 0; }

    /*
     * @see org.argouml.ui.Clarifier#hit(int, int)
     */
    public boolean hit(int x, int y) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/WizStepChoice.java</td>
<td>81</td></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/WizStepCue.java</td>
<td>70</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	instructions.setText(instr);
	instructions.setWrapStyleWord(true);
	instructions.setEditable(false);
	instructions.setBorder(null);
	instructions.setBackground(getMainPanel().getBackground());

	getMainPanel().setBorder(new EtchedBorder());

	GridBagLayout gb = new GridBagLayout();
	getMainPanel().setLayout(gb);

	GridBagConstraints c = new GridBagConstraints();
	c.ipadx = 3; c.ipady = 3;
	c.weightx = 0.0; c.weighty = 0.0;
	c.anchor = GridBagConstraints.EAST;

	JLabel image = new JLabel(&quot;&quot;);
	//image.setMargin(new Insets(0, 0, 0, 0));
	image.setIcon(getWizardIcon());
	image.setBorder(null);
	c.gridx = 0;
	c.gridheight = GridBagConstraints.REMAINDER;
	c.gridy = 0;
	c.anchor = GridBagConstraints.NORTH;
	gb.setConstraints(image, c);
	getMainPanel().add(image);

	c.weightx = 1.0;
	c.gridx = 2;
	c.gridheight = 1;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/ToDoByDecision.java</td>
<td>76</td></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/ToDoByDecision.java</td>
<td>113</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        LOG.log(Level.FINE, &quot;toDoItemChanged&quot;);
        List&lt;ToDoItem&gt; items = tde.getToDoItemList();
	Object[] path = new Object[2];
	path[0] = Designer.theDesigner().getToDoList();

        for (Decision dec : Designer.theDesigner().getDecisionModel()
                .getDecisionList()) {
	    int nMatchingItems = 0;
	    path[1] = dec;
	    for (ToDoItem item : items) {
		if (!item.supports(dec)) {
                    continue;
                }
		nMatchingItems++;
	    }
	    if (nMatchingItems == 0) {
                continue;
            }
	    int[] childIndices = new int[nMatchingItems];
	    Object[] children = new Object[nMatchingItems];
	    nMatchingItems = 0;
            for (ToDoItem item : items) {
		if (!item.supports(dec)) {
                    continue;
                }
		childIndices[nMatchingItems] = getIndexOfChild(dec, item);
		children[nMatchingItems] = item;
		nMatchingItems++;
	    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/ToDoByType.java</td>
<td>76</td></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/ToDoByType.java</td>
<td>113</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        LOG.log(Level.FINE, &quot;toDoItemsChanged&quot;);
        List&lt;ToDoItem&gt; items = tde.getToDoItemList();
	Object[] path = new Object[2];
	path[0] = Designer.theDesigner().getToDoList();

        for (KnowledgeTypeNode ktn : KnowledgeTypeNode.getTypeList()) {
	    String kt = ktn.getName();
	    path[1] = ktn;
	    int nMatchingItems = 0;
            for (ToDoItem item : items) {
		if (!item.containsKnowledgeType(kt)) {
                    continue;
                }
		nMatchingItems++;
	    }
	    if (nMatchingItems == 0) {
                continue;
            }
	    int[] childIndices = new int[nMatchingItems];
	    Object[] children = new Object[nMatchingItems];
	    nMatchingItems = 0;
            for (ToDoItem item : items) {
		if (!item.containsKnowledgeType(kt)) {
                    continue;
                }
		childIndices[nMatchingItems] = getIndexOfChild(ktn, item);
		children[nMatchingItems] = item;
		nMatchingItems++;
	    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrMultipleInitialStates.java</td>
<td>106</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrMultipleShallowHistoryStates.java</td>
<td>108</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                	        Model.getPseudostateKind().getInitial())) {
                initialStateCount++;
            }
        }
        if (initialStateCount &gt; 1) {
            return PROBLEM_FOUND;
        }
        return NO_PROBLEM;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem( java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
        ListSet offs = computeOffenders(dm);
        return new UMLToDoItem(this, offs, dsgr);
    }

    /**
     * @param ps the object to check
     * @return the list of offenders
     */
    protected ListSet computeOffenders(Object ps) {
        ListSet offs = new ListSet(ps);
        Object cs = Model.getFacade().getContainer(ps);
        if (cs == null) {
            LOG.log(Level.FINE, &quot;null parent in still valid&quot;);
            return offs;
	}

        Collection peers = Model.getFacade().getSubvertices(cs);
        for (Object sv : peers) {
            if (Model.getFacade().isAPseudostate(sv)
                &amp;&amp; Model.getFacade().equalsPseudostateKind(
                        Model.getFacade().getKind(sv),
                        Model.getPseudostateKind().getInitial())) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/ToDoByGoal.java</td>
<td>76</td></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/ToDoByGoal.java</td>
<td>111</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        LOG.log(Level.FINE, &quot;toDoItemsChanged&quot;);
	Object[] path = new Object[2];
	path[0] = Designer.theDesigner().getToDoList();

        for (Goal g : Designer.theDesigner().getGoalList()) {
	    path[1] = g;
	    int nMatchingItems = 0;
            for (ToDoItem item : tde.getToDoItemList()) {
		if (!item.supports(g)) {
                    continue;
                }
		nMatchingItems++;
	    }
	    if (nMatchingItems == 0) {
	        continue;
	    }
	    int[] childIndices = new int[nMatchingItems];
	    Object[] children = new Object[nMatchingItems];
	    nMatchingItems = 0;
            for (ToDoItem item : tde.getToDoItemList()) {
		if (!item.supports(g)) {
                    continue;
                }
		childIndices[nMatchingItems] = getIndexOfChild(g, item);
		children[nMatchingItems] = item;
		nMatchingItems++;
	    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/activity/ui/UMLActivityDiagram.java</td>
<td>433</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/UMLStateDiagram.java</td>
<td>503</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }
    /**
     * @return Returns the actionFinalPseudoState.
     */
    protected Action getActionFinalPseudoState() {
        if (actionFinalPseudoState == null) {
            actionFinalPseudoState =
                new RadioAction(
                        new CmdCreateNode(
                                Model.getMetaTypes().getFinalState(),
                        	&quot;button.new-finalstate&quot;));
        }
        return actionFinalPseudoState;
    }
    /**
     * @return Returns the actionForkPseudoState.
     */
    protected Action getActionForkPseudoState() {
        if (actionForkPseudoState == null) {
            actionForkPseudoState =
                new RadioAction(
                        new ActionCreatePseudostate(
                                Model.getPseudostateKind().getFork(),
                        	&quot;button.new-fork&quot;));
        }
        return actionForkPseudoState;
    }
    /**
     * @return Returns the actionJoinPseudoState.
     */
    protected Action getActionJoinPseudoState() {
        if (actionJoinPseudoState == null) {
            actionJoinPseudoState =
                new RadioAction(
                        new ActionCreatePseudostate(
                                Model.getPseudostateKind().getJoin(),
                        	&quot;button.new-join&quot;));
        }
        return actionJoinPseudoState;
    }
    /**
     * @return Returns the actionJunctionPseudoState.
     */
    protected Action getActionJunctionPseudoState() {
        if (actionJunctionPseudoState == null) {
            actionJunctionPseudoState =
                new RadioAction(
                        new ActionCreatePseudostate(
                                Model.getPseudostateKind().getJunction(),
                                &quot;button.new-junction&quot;));
        }
        return actionJunctionPseudoState;
    }
    /**
     * @return Returns the actionSwimlane.
     */
    protected Action getActionSwimlane() {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/WizStepChoice.java</td>
<td>82</td></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/WizStepCue.java</td>
<td>71</td></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/WizStepManyTextFields.java</td>
<td>79</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>	instructions.setWrapStyleWord(true);
	instructions.setEditable(false);
	instructions.setBorder(null);
	instructions.setBackground(getMainPanel().getBackground());

	getMainPanel().setBorder(new EtchedBorder());

	GridBagLayout gb = new GridBagLayout();
	getMainPanel().setLayout(gb);

	GridBagConstraints c = new GridBagConstraints();
	c.ipadx = 3; c.ipady = 3;
	c.weightx = 0.0; c.weighty = 0.0;
	c.anchor = GridBagConstraints.EAST;

	JLabel image = new JLabel(&quot;&quot;);
	//image.setMargin(new Insets(0, 0, 0, 0));
	image.setIcon(getWizardIcon());
	image.setBorder(null);
	c.gridx = 0;
	c.gridheight = GridBagConstraints.REMAINDER;
	c.gridy = 0;
	c.anchor = GridBagConstraints.NORTH;
	gb.setConstraints(image, c);
	getMainPanel().add(image);

	c.weightx = 1.0;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/notation/providers/uml/NotationUtilityUml.java</td>
<td>1065</td></tr>
<tr class="b">
<td>org/argouml/notation/providers/uml/TransitionNotationUml.java</td>
<td>712</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    static String generateParameter(Object parameter) {
        StringBuffer s = new StringBuffer();
        s.append(generateKind(Model.getFacade().getKind(parameter)));
        if (s.length() &gt; 0) {
            s.append(&quot; &quot;);
        }
        s.append(Model.getFacade().getName(parameter));
        String classRef =
            generateClassifierRef(Model.getFacade().getType(parameter));
        if (classRef.length() &gt; 0) {
            s.append(&quot; : &quot;);
            s.append(classRef);
        }
        String defaultValue =
            generateExpression(Model.getFacade().getDefaultValue(parameter));
        if (defaultValue.length() &gt; 0) {
            s.append(&quot; = &quot;);
            s.append(defaultValue);
        }
        return s.toString();
    }

    private static String generateExpression(Object expr) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/persistence/PGMLStackParser.java</td>
<td>311</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/UmlDiagramRenderer.java</td>
<td>194</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>            final String value = entry.getValue();

            if (fig instanceof FigCompartmentBox) {
                FigCompartmentBox fcb = (FigCompartmentBox) fig;
                if (&quot;operationsVisible&quot;.equals(name)) {
                    fcb.showCompartment(Model.getMetaTypes().getOperation(),
                            value.equalsIgnoreCase(&quot;true&quot;));
                } else if (&quot;attributesVisible&quot;.equals(name)) {
                    fcb.showCompartment(Model.getMetaTypes().getAttribute(),
                            value.equalsIgnoreCase(&quot;true&quot;));
                } else if (&quot;enumerationLiteralsVisible&quot;.equals(name)) {
                    fcb.showCompartment(Model.getMetaTypes()
                            .getEnumerationLiteral(), value
                            .equalsIgnoreCase(&quot;true&quot;));
                } else if (&quot;extensionPointVisible&quot;.equals(name)) {
                    fcb.showCompartment(Model.getMetaTypes()
                            .getExtensionPoint(), value
                            .equalsIgnoreCase(&quot;true&quot;));
                }
            }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/static_structure/ui/FigDataType.java</td>
<td>162</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/static_structure/ui/FigInterface.java</td>
<td>132</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        if (!(Model.getFacade().isAUMLElement(getOwner()))) {
            return;
        }
        /* If this fig is not visible, do not adapt the UML model!
         * This is used for deleting. See issue 3042.
         */
        if  (!isVisible()) {
            return;
        }
        Object me = getOwner();
        Object m = null;

        try {
            // If moved into an Package
            if (encloser != null
                    &amp;&amp; oldEncloser != encloser
                    &amp;&amp; Model.getFacade().isAPackage(encloser.getOwner())) {
                Model.getCoreHelper().setNamespace(me, encloser.getOwner());
            }

            // If default Namespace is not already set
            if (Model.getFacade().getNamespace(me) == null
                    &amp;&amp; (TargetManager.getInstance().getTarget()
                    instanceof ArgoDiagram)) {
                m =
                    ((ArgoDiagram) TargetManager.getInstance().getTarget())
                        .getNamespace();
                Model.getCoreHelper().setNamespace(me, m);
            }
        } catch (Exception e) {
            LOG.log(Level.SEVERE,</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/FigEdgeModelElement.java</td>
<td>500</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/ui/FigEdgeModelElement.java</td>
<td>524</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        List&lt;ToDoItem&gt; items = tdList.elementListForOffender(getOwner());
        for (ToDoItem item : items) {
            Icon icon = item.getClarifier();
            stuffPointAlongPerimeter(iconPos, p);
            int width = icon.getIconWidth();
            int height = icon.getIconHeight();
            if (y &gt;= p.y + yOff
                &amp;&amp; y &lt;= p.y + height + yOff
                &amp;&amp; x &gt;= p.x + xOff
                &amp;&amp; x &lt;= p.x + width + xOff) {
                return item;
            }
            iconPos += width;
        }
        for (ToDoItem item : items) {
            Icon icon = item.getClarifier();
            if (icon instanceof Clarifier) {
                ((Clarifier) icon).setFig(this);
                ((Clarifier) icon).setToDoItem(item);
                if (((Clarifier) icon).hit(x, y)) {
                    return item;
                }
            }
        }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigBranchState.java</td>
<td>116</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigJunctionState.java</td>
<td>106</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        figClone.head = (FigCircle) it.next();
        return figClone;
    }


    /**
     * Choice states are fixed size.
     *
     * @return false
     */
    @Override
    public boolean isResizable() {
        return false;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /**
     * Ignored - figure has a fixed rendering.
     * @param f ignored
     */
    @Override
    public void setFilled(boolean f) {
        // ignored - fixed rendering
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }

    ////////////////////////////////////////////////////////////////
    // Event handlers

    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override
    public void mouseClicked(MouseEvent me) {
        // ignored
    }

    /**
     * Override setStandardBounds to keep shapes looking right.
     * {@inheritDoc}
     */
    @Override</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/reveng/ConfigPanelExtension.java</td>
<td>216</td></tr>
<tr class="b">
<td>org/argouml/uml/reveng/Import.java</td>
<td>736</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        configPanel.add(listLabel,
                createGridBagConstraintsFinal());

        // TODO: Get the list of extended settings from the current
        // language importer and add those too
    }


    /**
     * Create a GridBagConstraints object to use with the layout.
     * 
     * @param topInset true to use a top inset 
     * @param bottomInset true to use a bottom inset
     * @param fill true to fill (horizontally)
     * @return the grid bag constraints
     */
    private GridBagConstraints createGridBagConstraints(boolean topInset,
            boolean bottomInset, boolean fill) {
        GridBagConstraints gbc = new GridBagConstraints();
        gbc.gridx = GridBagConstraints.RELATIVE;
        gbc.gridy = GridBagConstraints.RELATIVE;
        gbc.gridwidth = GridBagConstraints.REMAINDER;
        gbc.gridheight = 1;
        gbc.weightx = 1.0;
        gbc.weighty = 0.0;
        gbc.anchor = GridBagConstraints.NORTHWEST;
        gbc.fill = fill ? GridBagConstraints.HORIZONTAL
                : GridBagConstraints.NONE;
        gbc.insets = 
            new Insets(
                    topInset ? 5 : 0, 
                    5, 
                    bottomInset ? 5 : 0, 
                    5);
        gbc.ipadx = 0;
        gbc.ipady = 0;
        return gbc;
    }

    /**
     * A GridBagConstraints for the last item to take up the rest of the space.
     * @return the GridBagConstraints object
     */
    private GridBagConstraints createGridBagConstraintsFinal() {
        GridBagConstraints gbc = createGridBagConstraints(false, true, false);
        gbc.gridheight = GridBagConstraints.REMAINDER;
        gbc.weighty = 1.0;
        return gbc;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/collaboration/CollabDiagramGraphModel.java</td>
<td>249</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/deployment/DeploymentDiagramGraphModel.java</td>
<td>252</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>	    end1 = suppliers.iterator().next();
	} else if (edge instanceof CommentEdge) {
	    end0 = ((CommentEdge) edge).getSource();
	    end1 = ((CommentEdge) edge).getDestination();
	} else {
	    return false;
        }

        // Both ends must be defined and nodes that are on the graph already.
        if (end0 == null || end1 == null) {
            LOG.log(Level.SEVERE, &quot;Edge rejected. Its ends are not attached to anything&quot;);
            return false;
        }

        if (!containsNode(end0)
                &amp;&amp; !containsEdge(end0)) {
            LOG.log(Level.SEVERE, &quot;Edge rejected. Its source end is attached to &quot; + end0
                    + &quot; but this is not in the graph model&quot;);
            return false;
        }
        if (!containsNode(end1)
                &amp;&amp; !containsEdge(end1)) {
            LOG.log(Level.SEVERE, &quot;Edge rejected. Its destination end is attached to &quot;
                    + end1 + &quot; but this is not in the graph model&quot;);
            return false;
        }

        return true;
    }


    /*
     * Add the given node to the graph, if valid.
     *
     * @see org.tigris.gef.graph.MutableGraphModel#addNode(java.lang.Object)
     */
    @Override
    public void addNode(Object node) {
  LOG.log(Level.FINE, &quot;adding MClassifierRole node!!&quot;);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigBranchState.java</td>
<td>116</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigHistoryState.java</td>
<td>156</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigJunctionState.java</td>
<td>106</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        figClone.head = (FigCircle) it.next();
        return figClone;
    }


    /**
     * Choice states are fixed size.
     *
     * @return false
     */
    @Override
    public boolean isResizable() {
        return false;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /**
     * Ignored - figure has a fixed rendering.
     * @param f ignored
     */
    @Override
    public void setFilled(boolean f) {
        // ignored - fixed rendering
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }

    ////////////////////////////////////////////////////////////////
    // Event handlers

    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override
    public void mouseClicked(MouseEvent me) {
        // ignored
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/ui/TabStereotype.java</td>
<td>345</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/UMLModelElementListModel2.java</td>
<td>216</td></tr>
<tr class="b">
<td>org/argouml/uml/ui/UMLStereotypeListModel.java</td>
<td>213</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>            } else if (e instanceof AddAssociationEvent) {
                //Remove the element from Available List
                boolean valid = false;
                if (!(getChangedElement(e) instanceof Collection)) {
                    valid = contains(getChangedElement(e));
                } else {
                    Collection col = (Collection) getChangedElement(e);
                    Iterator it = col.iterator();
                    valid = true;
                    while (it.hasNext()) {
                        Object o = it.next();
                        if (!contains(o)) {
                            valid = false;
                            break;
                        }
                    }
                }
                if (valid) {
                    Object o = getChangedElement(e);
                    if (o instanceof Collection) {
                        Iterator it = ((Collection) o).iterator();
                        while (it.hasNext()) {
                            Object o3 = it.next();
                            removeElement(o3);
                        }
                    } else {
                        removeElement(o);
                    }
                }
                
               
                
            } else if (e instanceof RemoveAssociationEvent) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/gefext/ArgoFigCircle.java</td>
<td>61</td></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigRRect.java</td>
<td>61</td></tr>
<tr class="a">
<td>org/argouml/gefext/ArgoFigRect.java</td>
<td>61</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public ArgoFigCircle(int x, int y, int w, int h) {
        super(x, y, w, h);
    }


    /*
     * @see org.tigris.gef.presentation.Fig#deleteFromModel()
     */
    @Override
    public void deleteFromModel() {
        super.deleteFromModel();
        firePropChange(&quot;remove&quot;, null, null);
        notifier.sendNotification(new Notification(&quot;remove&quot;, this, 0));
    }

    /*
     * @see javax.management.NotificationEmitter#removeNotificationListener(javax.management.NotificationListener, javax.management.NotificationFilter, java.lang.Object)
     */
    public void removeNotificationListener(NotificationListener listener,
        NotificationFilter filter, Object handback) 
        throws ListenerNotFoundException {
        notifier.removeNotificationListener(listener, filter, handback);
    }

    /*
     * @see javax.management.NotificationBroadcaster#addNotificationListener(javax.management.NotificationListener, javax.management.NotificationFilter, java.lang.Object)
     */
    public void addNotificationListener(NotificationListener listener, 
        NotificationFilter filter, Object handback) 
        throws IllegalArgumentException {
        notifier.addNotificationListener(listener, filter, handback);
    }

    /*
     * @see javax.management.NotificationBroadcaster#getNotificationInfo()
     */
    public MBeanNotificationInfo[] getNotificationInfo() {
        return notifier.getNotificationInfo();
    }

    /*
     * @see javax.management.NotificationBroadcaster#removeNotificationListener(javax.management.NotificationListener)
     */
    public void removeNotificationListener(NotificationListener listener) 
        throws ListenerNotFoundException {
        notifier.removeNotificationListener(listener);
    }

}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigHistoryState.java</td>
<td>158</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigInitialState.java</td>
<td>137</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }


    /**
     * History states are fixed size.
     * @return false
     */
    @Override
    public boolean isResizable() {
        return false;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /**
     * Ignored - figure has fixed rendering
     * @param f ignored
     */
    @Override
    public void setFilled(boolean f) {
        // ignored
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }


    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override
    public void mouseClicked(MouseEvent me) {
        // ignored
    }

    /**
     * The UID.
     */
    static final long serialVersionUID = 6572261327347541373L;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/ButtonActionNewEffect.java</td>
<td>64</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/ButtonActionNewEvent.java</td>
<td>66</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        putValue(SMALL_ICON, icon);
//        TargetManager.getInstance().addTargetListener(this);
    }

    public void actionPerformed(ActionEvent e) {
        if (!isEnabled()) {
            return;
        }
        super.actionPerformed(e);
        Object target = TargetManager.getInstance().getModelTarget();
        Object model = Model.getFacade().getInnerContainingModel(target);
        Object ns = Model.getStateMachinesHelper()
                    .findNamespaceForEvent(target, model);
        Object event = createEvent(ns);
        Model.getStateMachinesHelper().setEventAsTrigger(target, event);
        TargetManager.getInstance().setTarget(event);
    }

    public boolean isEnabled() {
        Object target = TargetManager.getInstance().getModelTarget();
        return Model.getFacade().isATransition(target);
    }
    
    protected abstract Object createEvent(Object ns);
    
    protected abstract String getKeyName();
    protected abstract String getIconName();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigHistoryState.java</td>
<td>156</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigSynchState.java</td>
<td>144</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        figClone.h = (FigText) it.next();
        return figClone;
    }


    /**
     * History states are fixed size.
     * @return false
     */
    @Override
    public boolean isResizable() {
        return false;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /**
     * Ignored - figure has fixed rendering
     * @param f ignored
     */
    @Override
    public void setFilled(boolean f) {
        // ignored
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }


    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigBranchState.java</td>
<td>118</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigInitialState.java</td>
<td>137</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigJunctionState.java</td>
<td>108</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    }


    /**
     * Choice states are fixed size.
     *
     * @return false
     */
    @Override
    public boolean isResizable() {
        return false;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /**
     * Ignored - figure has a fixed rendering.
     * @param f ignored
     */
    @Override
    public void setFilled(boolean f) {
        // ignored - fixed rendering
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }

    ////////////////////////////////////////////////////////////////
    // Event handlers

    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override
    public void mouseClicked(MouseEvent me) {
        // ignored
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigBranchState.java</td>
<td>116</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigJunctionState.java</td>
<td>106</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigSynchState.java</td>
<td>144</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        figClone.head = (FigCircle) it.next();
        return figClone;
    }


    /**
     * Choice states are fixed size.
     *
     * @return false
     */
    @Override
    public boolean isResizable() {
        return false;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /**
     * Ignored - figure has a fixed rendering.
     * @param f ignored
     */
    @Override
    public void setFilled(boolean f) {
        // ignored - fixed rendering
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }

    ////////////////////////////////////////////////////////////////
    // Event handlers

    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/static_structure/ui/FigPackage.java</td>
<td>1041</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/static_structure/ui/FigPackage.java</td>
<td>1136</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        }

        /*
         * @see org.tigris.gef.presentation.Fig#getClosestPoint(java.awt.Point)
         */
        @Override
        public Point getClosestPoint(Point anotherPt) {
            Rectangle r = getBounds();
            int[] xs = {
                r.x, r.x + r.width - indentX, r.x + r.width - indentX,
                r.x + r.width,   r.x + r.width,  r.x,            r.x,
            };
            int[] ys = {
                r.y, r.y,                     r.y + tabHeight,
                r.y + tabHeight, r.y + r.height, r.y + r.height, r.y,
            };
            Point p =
                Geometry.ptClosestTo(
                    xs,
                    ys,
                    7,
                    anotherPt);
            return p;
        };

        public void setBoundsImpl(</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigInk.java</td>
<td>65</td></tr>
<tr class="a">
<td>org/argouml/gefext/ArgoFigPoly.java</td>
<td>65</td></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigSpline.java</td>
<td>65</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    public ArgoFigInk(int x, int y) {
        super(x, y);
    }


    /*
     * @see org.tigris.gef.presentation.Fig#deleteFromModel()
     */
    @Override
    public void deleteFromModel() {
        super.deleteFromModel();
        firePropChange(&quot;remove&quot;, null, null);
        notifier.sendNotification(new Notification(&quot;remove&quot;, this, 0));
    }

    /*
     * @see javax.management.NotificationEmitter#removeNotificationListener(javax.management.NotificationListener, javax.management.NotificationFilter, java.lang.Object)
     */
    public void removeNotificationListener(NotificationListener listener,
        NotificationFilter filter, Object handback) 
        throws ListenerNotFoundException {
        notifier.removeNotificationListener(listener, filter, handback);
    }

    /*
     * @see javax.management.NotificationBroadcaster#addNotificationListener(javax.management.NotificationListener, javax.management.NotificationFilter, java.lang.Object)
     */
    public void addNotificationListener(NotificationListener listener, 
        NotificationFilter filter, Object handback) 
        throws IllegalArgumentException {
        notifier.addNotificationListener(listener, filter, handback);
    }

    /*
     * @see javax.management.NotificationBroadcaster#getNotificationInfo()
     */
    public MBeanNotificationInfo[] getNotificationInfo() {
        return notifier.getNotificationInfo();
    }

    /*
     * @see javax.management.NotificationBroadcaster#removeNotificationListener(javax.management.NotificationListener)
     */
    public void removeNotificationListener(NotificationListener listener) 
        throws ListenerNotFoundException {
        notifier.removeNotificationListener(listener);
    }

}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/static_structure/ui/FigPackage.java</td>
<td>829</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/static_structure/ui/FigPackage.java</td>
<td>1041</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/static_structure/ui/FigPackage.java</td>
<td>1136</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /*
     * @see org.tigris.gef.presentation.Fig#getClosestPoint(java.awt.Point)
     */
    @Override
    public Point getClosestPoint(Point anotherPt) {
        Rectangle r = getBounds();
        int[] xs = {
            r.x, r.x + r.width - indentX, r.x + r.width - indentX,
            r.x + r.width,   r.x + r.width,  r.x,            r.x,
        };
        int[] ys = {
            r.y, r.y,                     r.y + tabHeight,
            r.y + tabHeight, r.y + r.height, r.y + r.height, r.y,
        };
        Point p =
            Geometry.ptClosestTo(
                xs,
                ys,
                7,
                anotherPt);
        return p;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigForkState.java</td>
<td>124</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigHistoryState.java</td>
<td>168</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigInitialState.java</td>
<td>147</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigJoinState.java</td>
<td>124</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        // noop - fixed rendering
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }
   
    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override
    public void mouseClicked(MouseEvent me) {
        // ignored
    }

    /**
     * The UID.
     */
    static final long serialVersionUID = 6702818473439087473L;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/notation/providers/uml/AbstractMessageNotationUml.java</td>
<td>582</td></tr>
<tr class="a">
<td>org/argouml/notation/providers/uml/AbstractMessageNotationUml.java</td>
<td>619</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                    mustBeSeq = true;

                    if (currentseq.size() &gt; 2
                            &amp;&amp; currentseq.get(currentseq.size() - 2) == null
                            &amp;&amp; currentseq.get(currentseq.size() - 1) == null) {
                        currentseq.remove(currentseq.size() - 1);
                        currentseq.remove(currentseq.size() - 1);
                    }

                    if (currentseq.get(currentseq.size() - 2) != null
                            || currentseq.get(currentseq.size() - 1) != null) {

                        predecessors.add(currentseq);

                        currentseq = new ArrayList&lt;Integer&gt;();
                        currentseq.add(null);
                        currentseq.add(null);
                    }
                    hasPredecessors = true;
                } else if (&quot;//&quot;.equals(token)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/ui/ActionAggregation.java</td>
<td>254</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/ActionMultiplicity.java</td>
<td>106</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public void oldActionPerformed(ActionEvent ae) {
        super.actionPerformed(ae);
        List sels = Globals.curEditor().getSelectionManager().selections();
        if (sels.size() == 1) {
            Selection sel = (Selection) sels.get(0);
            Fig f = sel.getContent();
            Object owner = ((FigEdgeModelElement) f).getOwner();
            Collection ascEnds = Model.getFacade().getConnections(owner);
            Iterator iter = ascEnds.iterator();
            Object ascEnd = null;
            if (str.equals(&quot;src&quot;)) {
                ascEnd = iter.next();
            } else {
                while (iter.hasNext()) {
                    ascEnd = iter.next();
                }
            }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/activity/ui/FigActionState.java</td>
<td>196</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/activity/ui/FigObjectFlowState.java</td>
<td>302</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        cover.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return cover.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        cover.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return cover.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        cover.setFilled(f);
    }

    @Override
    public boolean isFilled() {
        return cover.isFilled();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        cover.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return cover.getLineWidth();
    }

    /*
     * @see org.argouml.uml.diagram.ui.FigNodeModelElement#modelChanged(java.beans.PropertyChangeEvent)
     */
    @Override
    protected void modelChanged(PropertyChangeEvent mee) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/deployment/DeploymentDiagramGraphModel.java</td>
<td>252</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/StateDiagramGraphModel.java</td>
<td>202</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                    Model.getCommonBehaviorHelper().getDestination(edge);
        } else if (edge instanceof CommentEdge) {
            end0 = ((CommentEdge) edge).getSource();
            end1 = ((CommentEdge) edge).getDestination();
        } else {
            return false;
        }

        // Both ends must be defined and nodes that are on the graph already.
        if (end0 == null || end1 == null) {
            LOG.log(Level.SEVERE, &quot;Edge rejected. Its ends are not attached to anything&quot;);
            return false;
        }

        if (!containsNode(end0)
                &amp;&amp; !containsEdge(end0)) {
            LOG.log(Level.SEVERE, &quot;Edge rejected. Its source end is attached to &quot;
                    + end0
                    + &quot; but this is not in the graph model&quot;);
            return false;
        }
        if (!containsNode(end1)
                &amp;&amp; !containsEdge(end1)) {
            LOG.log(Level.SEVERE, &quot;Edge rejected. Its destination end is attached to &quot;
                    + end1
                    + &quot; but this is not in the graph model&quot;);
            return false;
        }

        return true;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/activity/ui/FigActionState.java</td>
<td>195</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/collaboration/ui/FigClassifierRole.java</td>
<td>226</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        firePropChange(&quot;bounds&quot;, oldBounds, getBounds());
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        cover.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return cover.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        cover.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return cover.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        cover.setFilled(f);
    }

    @Override
    public boolean isFilled() {
        return cover.isFilled();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        cover.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return cover.getLineWidth();
    }

    /*
     * @see org.argouml.uml.diagram.ui.FigNodeModelElement#modelChanged(java.beans.PropertyChangeEvent)
     */
    @Override</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/collaboration/ui/FigClassifierRole.java</td>
<td>227</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/deployment/ui/FigObject.java</td>
<td>117</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        cover.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return cover.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        cover.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return cover.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        cover.setFilled(f);
    }


    @Override
    public boolean isFilled() {
        return cover.isFilled();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        cover.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return cover.getLineWidth();
    }


    /**
     * Work out the minimum size that this Fig can be.&lt;p&gt;
     *
     * This should be the size of the stereotype + name + padding. However
     * we allow for the possible case that the cover or big port could be
     * bigger still.&lt;p&gt;
     *
     * @return  The minimum size of this fig.
     */
    @Override
    public Dimension getMinimumSize() {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigInitialState.java</td>
<td>137</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigSynchState.java</td>
<td>146</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /**
     * Initial states are fixed size.
     *
     * @return false
     */
    @Override
    public boolean isResizable() {
        return false;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /**
     * Ignored - figure has fixed rendering
     * @param f ignored
     */
    @Override
    public void setFilled(boolean f) {
        // ignored - rendering is fixed
    }


    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }

    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/activity/ui/FigObjectFlowState.java</td>
<td>302</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/collaboration/ui/FigClassifierRole.java</td>
<td>227</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        cover.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return cover.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        cover.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return cover.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        cover.setFilled(f);
    }

    @Override
    public boolean isFilled() {
        return cover.isFilled();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        cover.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return cover.getLineWidth();
    }

    /*
     * @see org.argouml.uml.diagram.ui.FigNodeModelElement#textEdited(org.tigris.gef.presentation.FigText)
     */
    @Override</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/activity/ui/FigActionState.java</td>
<td>196</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/deployment/ui/FigObject.java</td>
<td>117</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        cover.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return cover.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        cover.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return cover.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        cover.setFilled(f);
    }

    @Override
    public boolean isFilled() {
        return cover.isFilled();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        cover.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return cover.getLineWidth();
    }

    /*
     * @see org.argouml.uml.diagram.ui.FigNodeModelElement#modelChanged(java.beans.PropertyChangeEvent)
     */
    @Override</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/collaboration/CollabDiagramGraphModel.java</td>
<td>249</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/StateDiagramGraphModel.java</td>
<td>202</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	    end1 = suppliers.iterator().next();
	} else if (edge instanceof CommentEdge) {
	    end0 = ((CommentEdge) edge).getSource();
	    end1 = ((CommentEdge) edge).getDestination();
	} else {
	    return false;
        }

        // Both ends must be defined and nodes that are on the graph already.
        if (end0 == null || end1 == null) {
            LOG.log(Level.SEVERE, &quot;Edge rejected. Its ends are not attached to anything&quot;);
            return false;
        }

        if (!containsNode(end0)
                &amp;&amp; !containsEdge(end0)) {
            LOG.log(Level.SEVERE, &quot;Edge rejected. Its source end is attached to &quot; + end0
                    + &quot; but this is not in the graph model&quot;);
            return false;
        }
        if (!containsNode(end1)
                &amp;&amp; !containsEdge(end1)) {
            LOG.log(Level.SEVERE, &quot;Edge rejected. Its destination end is attached to &quot;
                    + end1 + &quot; but this is not in the graph model&quot;);
            return false;
        }

        return true;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrAssocNameConflict.java</td>
<td>72</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNameConflict.java</td>
<td>75</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        setKnowledgeTypes(Critic.KT_SYNTAX);
        // no good trigger
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#predicate2(
     *      java.lang.Object, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
        return computeOffenders(dm).size() &gt; 1;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem( java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
        ListSet offs = computeOffenders(dm);
        return new UMLToDoItem(this, offs, dsgr);
    }

    /**
     * @param dm
     *            the object to check
     * @return the set of offenders
     */
    protected ListSet computeOffenders(Object dm) {
        ListSet offenderResult = new ListSet();
        if (Model.getFacade().isANamespace(dm)) {
            HashMap&lt;String, Object&gt; names = new HashMap&lt;String, Object&gt;();
            for (Object name1Object : Model.getFacade().getOwnedElements(dm)) {
                if (!Model.getFacade().isAAssociation(name1Object)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigBranchState.java</td>
<td>129</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigForkState.java</td>
<td>124</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigJoinState.java</td>
<td>124</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigJunctionState.java</td>
<td>118</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /**
     * Ignored - figure has a fixed rendering.
     * @param f ignored
     */
    @Override
    public void setFilled(boolean f) {
        // ignored - fixed rendering
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }

    ////////////////////////////////////////////////////////////////
    // Event handlers

    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override
    public void mouseClicked(MouseEvent me) {
        // ignored
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/notation/providers/uml/AttributeNotationUml.java</td>
<td>314</td></tr>
<tr class="a">
<td>org/argouml/notation/providers/uml/OperationNotationUml.java</td>
<td>399</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                    StringBuilder propname = new StringBuilder();
                    String propvalue = null;

                    if (properties == null) {
                        properties = new ArrayList&lt;String&gt;();
                    }
                    while (true) {
                        token = st.nextToken();
                        if (&quot;,&quot;.equals(token) || &quot;}&quot;.equals(token)) {
                            if (propname.length() &gt; 0) {
                                properties.add(propname.toString());
                                properties.add(propvalue);
                            }
                            propname = new StringBuilder();
                            propvalue = null;

                            if (&quot;}&quot;.equals(token)) {
                                break;
                            }
                        } else if (&quot;=&quot;.equals(token)) {
                            if (propvalue != null) {
                                String msg =</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/ui/FigNodeModelElement.java</td>
<td>985</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/FigNodeModelElement.java</td>
<td>1007</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        List&lt;ToDoItem&gt; items = tdList.elementListForOffender(getOwner());
        for (ToDoItem item : items) {
            Icon icon = item.getClarifier();
            int width = icon.getIconWidth();
            if (y &gt;= getY() - 15
                    &amp;&amp; y &lt;= getY() + 10
                    &amp;&amp; x &gt;= iconX
                    &amp;&amp; x &lt;= iconX + width) {
                return item;
            }
            iconX += width;
        }
        for (ToDoItem item : items) {
            Icon icon = item.getClarifier();
            if (icon instanceof Clarifier) {
                ((Clarifier) icon).setFig(this);
                ((Clarifier) icon).setToDoItem(item);
                if (((Clarifier) icon).hit(x, y)) {
                    return item;
                }
            }
        }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigCircle.java</td>
<td>62</td></tr>
<tr class="a">
<td>org/argouml/gefext/ArgoFigInk.java</td>
<td>66</td></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigLine.java</td>
<td>80</td></tr>
<tr class="a">
<td>org/argouml/gefext/ArgoFigPoly.java</td>
<td>66</td></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigRRect.java</td>
<td>62</td></tr>
<tr class="a">
<td>org/argouml/gefext/ArgoFigRect.java</td>
<td>62</td></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigSpline.java</td>
<td>66</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        super(x, y, w, h);
    }


    /*
     * @see org.tigris.gef.presentation.Fig#deleteFromModel()
     */
    @Override
    public void deleteFromModel() {
        super.deleteFromModel();
        firePropChange(&quot;remove&quot;, null, null);
        notifier.sendNotification(new Notification(&quot;remove&quot;, this, 0));
    }

    /*
     * @see javax.management.NotificationEmitter#removeNotificationListener(javax.management.NotificationListener, javax.management.NotificationFilter, java.lang.Object)
     */
    public void removeNotificationListener(NotificationListener listener,
        NotificationFilter filter, Object handback) 
        throws ListenerNotFoundException {
        notifier.removeNotificationListener(listener, filter, handback);
    }

    /*
     * @see javax.management.NotificationBroadcaster#addNotificationListener(javax.management.NotificationListener, javax.management.NotificationFilter, java.lang.Object)
     */
    public void addNotificationListener(NotificationListener listener, 
        NotificationFilter filter, Object handback) 
        throws IllegalArgumentException {
        notifier.addNotificationListener(listener, filter, handback);
    }

    /*
     * @see javax.management.NotificationBroadcaster#getNotificationInfo()
     */
    public MBeanNotificationInfo[] getNotificationInfo() {
        return notifier.getNotificationInfo();
    }

    /*
     * @see javax.management.NotificationBroadcaster#removeNotificationListener(javax.management.NotificationListener)
     */
    public void removeNotificationListener(NotificationListener listener) 
        throws ListenerNotFoundException {
        notifier.removeNotificationListener(listener);
    }

}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrMultipleDeepHistoryStates.java</td>
<td>145</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrMultipleShallowHistoryStates.java</td>
<td>144</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>                            Model.getPseudostateKind().getDeepHistory())) {
                offs.add(sv);
            }
        }
        return offs;
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
        if (!isActive()) {
            return false;
        }
        ListSet offs = i.getOffenders();
        Object dm = offs.get(0);
        ListSet newOffs = computeOffenders(dm);
        boolean res = offs.equals(newOffs);
        return res;
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#getCriticizedDesignMaterials()
     */
    @Override
    public Set&lt;Object&gt; getCriticizedDesignMaterials() {
        Set&lt;Object&gt; ret = new HashSet&lt;Object&gt;();
        ret.add(Model.getMetaTypes().getPseudostate());
        return ret;
    }

    /**
     * The UID.
     */
    private static final long serialVersionUID = -4893102976661022514L;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrMultipleDeepHistoryStates.java</td>
<td>145</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrMultipleInitialStates.java</td>
<td>143</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrMultipleShallowHistoryStates.java</td>
<td>144</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                            Model.getPseudostateKind().getDeepHistory())) {
                offs.add(sv);
            }
        }
        return offs;
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
        if (!isActive()) {
            return false;
        }
        ListSet offs = i.getOffenders();
        Object dm = offs.get(0);
        ListSet newOffs = computeOffenders(dm);
        boolean res = offs.equals(newOffs);
        return res;
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#getCriticizedDesignMaterials()
     */
    @Override
    public Set&lt;Object&gt; getCriticizedDesignMaterials() {
        Set&lt;Object&gt; ret = new HashSet&lt;Object&gt;();
        ret.add(Model.getMetaTypes().getPseudostate());
        return ret;
    }

    /**
     * The UID.
     */
    private static final long serialVersionUID = -4893102976661022514L;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/static_structure/ui/FigEdgeNote.java</td>
<td>212</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/static_structure/ui/FigEdgeNote.java</td>
<td>239</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public void setDestFigNode(FigNode fn) {
        // When this is called from PGMLStackParser.attachEdges, we finished
        // the initialization of owning pseudo element (CommentEdge)
        if (fn != null &amp;&amp; Model.getFacade().isAComment(fn.getOwner())) {
            Object oldComment = comment;
            if (oldComment != null) {
                removeElementListener(oldComment);
            }
            comment = fn.getOwner();
            if (comment != null) {
                addElementListener(comment);
            }

            ((CommentEdge) getOwner()).setComment(comment);
        } else if (fn != null
                &amp;&amp; !Model.getFacade().isAComment(fn.getOwner())) {
            annotatedElement = fn.getOwner();
            ((CommentEdge) getOwner()).setAnnotatedElement(annotatedElement);
        }

        super.setDestFigNode(fn);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigCircle.java</td>
<td>63</td></tr>
<tr class="a">
<td>org/argouml/gefext/ArgoFigInk.java</td>
<td>67</td></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigLine.java</td>
<td>81</td></tr>
<tr class="a">
<td>org/argouml/gefext/ArgoFigPoly.java</td>
<td>67</td></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigRRect.java</td>
<td>63</td></tr>
<tr class="a">
<td>org/argouml/gefext/ArgoFigRect.java</td>
<td>63</td></tr>
<tr class="b">
<td>org/argouml/gefext/ArgoFigSpline.java</td>
<td>67</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/ArgoFigText.java</td>
<td>109</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }


    /*
     * @see org.tigris.gef.presentation.Fig#deleteFromModel()
     */
    @Override
    public void deleteFromModel() {
        super.deleteFromModel();
        firePropChange(&quot;remove&quot;, null, null);
        notifier.sendNotification(new Notification(&quot;remove&quot;, this, 0));
    }

    /*
     * @see javax.management.NotificationEmitter#removeNotificationListener(javax.management.NotificationListener, javax.management.NotificationFilter, java.lang.Object)
     */
    public void removeNotificationListener(NotificationListener listener,
        NotificationFilter filter, Object handback) 
        throws ListenerNotFoundException {
        notifier.removeNotificationListener(listener, filter, handback);
    }

    /*
     * @see javax.management.NotificationBroadcaster#addNotificationListener(javax.management.NotificationListener, javax.management.NotificationFilter, java.lang.Object)
     */
    public void addNotificationListener(NotificationListener listener, 
        NotificationFilter filter, Object handback) 
        throws IllegalArgumentException {
        notifier.addNotificationListener(listener, filter, handback);
    }

    /*
     * @see javax.management.NotificationBroadcaster#getNotificationInfo()
     */
    public MBeanNotificationInfo[] getNotificationInfo() {
        return notifier.getNotificationInfo();
    }

    /*
     * @see javax.management.NotificationBroadcaster#removeNotificationListener(javax.management.NotificationListener)
     */
    public void removeNotificationListener(NotificationListener listener) 
        throws ListenerNotFoundException {
        notifier.removeNotificationListener(listener);
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigSynchState.java</td>
<td>157</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/FigNodeAssociation.java</td>
<td>217</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        // ignored
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }

    /*
     * @see org.argouml.uml.diagram.ui.FigNodeModelElement#modelChanged(java.beans.PropertyChangeEvent)
     */
    @Override
    protected void modelChanged(PropertyChangeEvent mee) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/deployment/ui/UMLDeploymentDiagram.java</td>
<td>225</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/use_case/ui/UMLUseCaseDiagram.java</td>
<td>286</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    //////////////////////////////
    // Getters for plugin modules:
    //////////////////////////////

    /**
     * @return Returns the actionAggregation.
     */
    protected Action getActionAggregation() {
        if (actionAggregation == null) {
            actionAggregation =
                new RadioAction(
                    new ActionSetAddAssociationMode(
                        Model.getAggregationKind().getAggregate(),
                        false,
                        &quot;button.new-aggregation&quot;));
        }
        return actionAggregation;
    }

    /**
     * @return Returns the actionAssociation.
     */
    protected Action getActionAssociation() {
        if (actionAssociation == null) {
            actionAssociation =
                new RadioAction(
                    new ActionSetAddAssociationMode(
                        Model.getAggregationKind().getNone(),
                        false,
                        &quot;button.new-association&quot;));
        }
        return actionAssociation;
    }

    /**
     * @return Returns the actionComposition.
     */
    protected Action getActionComposition() {
        if (actionComposition == null) {
            actionComposition =
                new RadioAction(
                    new ActionSetAddAssociationMode(
                        Model.getAggregationKind().getComposite(),
                        false,
                        &quot;button.new-composition&quot;));
        }
        return actionComposition;
    }

    /**
     * @return Returns the actionMAssociation.
     */
    protected Action getActionMAssociation() {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/ui/ActionImportXMI.java</td>
<td>75</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/ActionOpenProject.java</td>
<td>95</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        ProjectBrowser pb = ProjectBrowser.getInstance();
        Project p = ProjectManager.getManager().getCurrentProject();
        PersistenceManager pm = PersistenceManager.getInstance();

        if (!ProjectBrowser.getInstance().askConfirmationAndSave()) {
            return;
        }

        JFileChooser chooser = null;
        if (p != null &amp;&amp; p.getURI() != null) {
            File file = new File(p.getURI());
            if (file.getParentFile() != null) {
                chooser = new JFileChooser(file.getParent());
            }
        } else {
            chooser = new JFileChooser();
        }

        if (chooser == null) {
            chooser = new JFileChooser();
        }

        chooser.setDialogTitle(
                Translator.localize(&quot;filechooser.import-xmi&quot;));</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/ui/TabStereotype.java</td>
<td>305</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/UMLModelElementListModel2.java</td>
<td>441</td></tr>
<tr class="b">
<td>org/argouml/uml/ui/UMLStereotypeListModel.java</td>
<td>438</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>                if ((e.getNewValue() != null &amp;&amp; e.getOldValue() == null) 
                        || isValidElement(getChangedElement(e))) {
                    valid = true; // we tried to remove a value
                }
            } else {
                Collection col = (Collection) getChangedElement(e);
                Iterator it = col.iterator();
                if (!col.isEmpty()) {
                    valid = true;
                    while (it.hasNext()) {
                        Object o = it.next();
                        if (!isValidElement(o)) {
                            valid = false;
                            break;
                        }
                    }
                } else {
                    if (e.getOldValue() instanceof Collection
                        &amp;&amp; !((Collection) e.getOldValue()).isEmpty()) {
                        valid = true;
                    }
                }
            }
            return valid;
        }
        
        /**
         * Must be different from the extends class because 
         * when we add a sterotype=&gt; remove from available
         *         remove a stereotype=&gt; add to available
         * Called twices: with a AttributeChangeEvent, and with AddAssociationEvent or RemoveAssociationEvent
         * 
         * @param e
         * 
         * @see org.argouml.uml.ui.UMLStereotypeListModel#propertyChange(PropertyChangeEvent)
         * @since 20110215
         */
        public void propertyChange(PropertyChangeEvent e) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigForkState.java</td>
<td>123</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigJoinState.java</td>
<td>123</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/FigNodeAssociation.java</td>
<td>216</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        firePropChange(&quot;bounds&quot;, oldBounds, getBounds());
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        // noop - fixed rendering
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }
   
    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/WizStepChoice.java</td>
<td>105</td></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/WizStepTextField.java</td>
<td>93</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	gb.setConstraints(image, c);
	getMainPanel().add(image);

	c.weightx = 1.0;
	c.gridx = 2;
	c.gridheight = 1;
	c.gridwidth = 3;
	c.gridy = 0;
	c.fill = GridBagConstraints.HORIZONTAL;
	gb.setConstraints(instructions, c);
	getMainPanel().add(instructions);

	c.gridx = 1;
	c.gridy = 1;
	c.weightx = 0.0;
	c.gridwidth = 1;
	c.fill = GridBagConstraints.NONE;
	SpacerPanel spacer = new SpacerPanel();
	gb.setConstraints(spacer, c);
	getMainPanel().add(spacer);

	c.gridx = 2;
	c.weightx = 1.0;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigForkState.java</td>
<td>124</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigJoinState.java</td>
<td>124</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigSynchState.java</td>
<td>157</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        // noop - fixed rendering
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }
   
    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigBranchState.java</td>
<td>129</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigHistoryState.java</td>
<td>168</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigInitialState.java</td>
<td>147</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigJunctionState.java</td>
<td>118</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/FigNodeAssociation.java</td>
<td>217</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineColor(java.awt.Color)
     */
    @Override
    public void setLineColor(Color col) {
        head.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return head.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        head.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return head.getFillColor();
    }

    /**
     * Ignored - figure has a fixed rendering.
     * @param f ignored
     */
    @Override
    public void setFilled(boolean f) {
        // ignored - fixed rendering
    }

    @Override
    public boolean isFilled() {
        return true;
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        head.setLineWidth(w);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineWidth()
     */
    @Override
    public int getLineWidth() {
        return head.getLineWidth();
    }

    ////////////////////////////////////////////////////////////////
    // Event handlers

    /*
     * @see java.awt.event.MouseListener#mouseClicked(java.awt.event.MouseEvent)
     */
    @Override</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/deployment/ui/UMLDeploymentDiagram.java</td>
<td>442</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/use_case/ui/UMLUseCaseDiagram.java</td>
<td>381</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    /**
     * @return Returns the actionUniAggregation.
     */
    protected Action getActionUniAggregation() {
        if (actionUniAggregation == null) {
            actionUniAggregation =
                new RadioAction(
                    new ActionSetAddAssociationMode(
                        Model.getAggregationKind().getAggregate(),
                        true, &quot;button.new-uniaggregation&quot;));
        }
        return actionUniAggregation;
    }

    /**
     * @return Returns the actionUniAssociation.
     */
    protected Action getActionUniAssociation() {
        if (actionUniAssociation == null) {
            actionUniAssociation =
                new RadioAction(
                    new ActionSetAddAssociationMode(
                        Model.getAggregationKind().getNone(),
                        true, &quot;button.new-uniassociation&quot;));
        }
        return actionUniAssociation;
    }

    /**
     * @return Returns the actionUniComposition.
     */
    protected Action getActionUniComposition() {
        if (actionUniComposition == null) {
            actionUniComposition =
                new RadioAction(
                    new ActionSetAddAssociationMode(
                        Model.getAggregationKind().getComposite(),
                        true, &quot;button.new-unicomposition&quot;));
        }
        return actionUniComposition;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/ui/foundation/core/ActionAddClientDependencyAction.java</td>
<td>88</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/foundation/core/ActionAddSupplierDependencyAction.java</td>
<td>88</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>            if (oldSet.containsAll(Model.getFacade().getSuppliers(dependency))) {
                toBeDeleted.add(dependency);
            }
        }
        ProjectManager.getManager().getCurrentProject()
            .moveToTrash(toBeDeleted);
    }

    /*
     * @see org.argouml.uml.ui.AbstractActionAddModelElement#getChoices()
     */
    protected List getChoices() {
        List ret = new ArrayList();
        Object model =
            ProjectManager.getManager().getCurrentProject().getModel();
        if (getTarget() != null) {
            Object modelElementType = Model.getMetaTypes().getModelElement();
            ret.addAll(Model.getModelManagementHelper()
                    .getAllModelElementsOfKind(model, modelElementType));
            ret.remove(getTarget());
        }
        return ret;
    }

    /*
     * @see org.argouml.uml.ui.AbstractActionAddModelElement#getDialogTitle()
     */
    protected String getDialogTitle() {
        return Translator.localize(&quot;dialog.title.add-client-dependency&quot;);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/ui/cmd/ActionNew.java</td>
<td>69</td></tr>
<tr class="a">
<td>org/argouml/ui/cmd/ActionNewProfile.java</td>
<td>69</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                Translator.localize(&quot;action.new&quot;));
    }

    ////////////////////////////////////////////////////////////////
    // main methods

    /*
     * @see java.awt.event.ActionListener#actionPerformed(java.awt.event.ActionEvent)
     */
    public void actionPerformed(ActionEvent e) {
        Model.getPump().flushModelEvents();
        Model.getPump().stopPumpingEvents();
        Model.getPump().flushModelEvents();
        Project p = ProjectManager.getManager().getCurrentProject();

        if (getValue(&quot;non-interactive&quot;) == null) {
            if (!ProjectBrowser.getInstance().askConfirmationAndSave()) {
                return;
            }
        }

        ProjectBrowser.getInstance().clearDialogs();
        Designer.disableCritiquing();
        Designer.clearCritiquing();
        // clean the history
        TargetManager.getInstance().cleanHistory();
        p.remove();
        p = ProjectManager.getManager().makeEmptyProject();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/ui/cmd/RelationshipActionFactory.java</td>
<td>76</td></tr>
<tr class="a">
<td>org/argouml/ui/cmd/RelationshipActionFactory.java</td>
<td>138</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        ActionList al= new ActionList(&quot;Add Associations from &quot;);
        if (Model.getFacade().isAClass(element)) {
            Collection associationEnds = Model.getFacade().getAssociationEnds(element);
            
            for (Object associationEnd : associationEnds) {
                Object association = Model.getFacade().getAssociation(associationEnd);
                
                // Only show actions for associations not already on diagram
                if (diagram.presentationFor(association) == null) {
                    Collection connections = Model.getFacade().getConnections(association);
                    if (connections.size() == 2) {
                        for (Object connection : connections) {
                            if (connection != associationEnd) {
                                final String direction;
                                if (Model.getFacade().isNavigable(associationEnd)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrMultipleDeepHistoryStates.java</td>
<td>108</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrMultipleInitialStates.java</td>
<td>106</td></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrMultipleShallowHistoryStates.java</td>
<td>108</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>                            Model.getPseudostateKind().getDeepHistory())) {
                initialStateCount++;
            }
        }
        if (initialStateCount &gt; 1) {
            return PROBLEM_FOUND;
        }
        return NO_PROBLEM;
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#toDoItem(java.lang.Object,
     *      org.argouml.cognitive.Designer)
     */
    @Override
    public ToDoItem toDoItem(Object dm, Designer dsgr) {
        ListSet offs = computeOffenders(dm);
        return new UMLToDoItem(this, offs, dsgr);
    }

    /**
     * @param ps the design material
     * @return the offenders
     */
    protected ListSet computeOffenders(Object ps) {
        ListSet offs = new ListSet(ps);
        Object cs = Model.getFacade().getContainer(ps);
        if (cs == null) {
            LOG.log(Level.FINE, &quot;null parent in still valid&quot;);
            return offs;
        }
        Collection peers = Model.getFacade().getSubvertices(cs);
        for (Iterator iter = peers.iterator(); iter.hasNext();) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigConcurrentRegion.java</td>
<td>367</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigConcurrentRegion.java</td>
<td>398</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        int h = oldBounds.height + hInc;

        dividerline.setShape(x, y,
                x + w , y);
        getNameFig().setBounds(x + 2, y + 2, w - 4, nameDim.height);
        getInternal().setBounds(x + 2, y + nameDim.height + 4,
                w - 4, h - nameDim.height - 8);
        getBigPort().setBounds(x, y, w, h);
        cover.setBounds(x, y, w, h);

        calcBounds(); //_x = x; _y = y; _w = w; _h = h;
        updateEdges();
        firePropChange(&quot;bounds&quot;, oldBounds, getBounds());
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/profile/internal/ocl/EvaluateExpression.java</td>
<td>454</td></tr>
<tr class="b">
<td>org/argouml/profile/internal/ocl/EvaluateExpression.java</td>
<td>789</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        inAFeaturePrimaryExpression(node);
        if (node.getPathName() != null) {
            // TODO support other name kinds
            node.getPathName().apply(this);
            feature = node.getPathName().toString().trim();
        }
        if (node.getTimeExpression() != null) {
            // hypotheses no time expression (only invariants)
            node.getTimeExpression().apply(this);
        }
        if (node.getQualifiers() != null) {
            // XXX: hypotheses no qualifiers (I don't know)
            node.getQualifiers().apply(this);
        }
        if (node.getFeatureCallParameters() != null) {
            val = null;
            node.getFeatureCallParameters().apply(this);
            parameters = (List) val;
        }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigCompositeState.java</td>
<td>87</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigSimpleState.java</td>
<td>75</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    private void initFigs() {
        cover =
            new FigRRect(getInitialX(), getInitialY(),
			      getInitialWidth(), getInitialHeight(),
			      LINE_COLOR, FILL_COLOR);

        getBigPort().setLineWidth(0);

        divider =
	    new FigLine(getInitialX(),
			getInitialY() + 2 + getNameFig().getBounds().height + 1,
			getInitialWidth() - 1,
			getInitialY() + 2 + getNameFig().getBounds().height + 1,
			LINE_COLOR);

        // add Figs to the FigNode in back-to-front order
        addFig(getBigPort());
        addFig(cover);
        addFig(getNameFig());
        addFig(divider);
        addFig(getInternal());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigSimpleState.java</td>
<td>171</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigSubmachineState.java</td>
<td>268</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        divider.setLineColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getLineColor()
     */
    @Override
    public Color getLineColor() {
        return cover.getLineColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFillColor(java.awt.Color)
     */
    @Override
    public void setFillColor(Color col) {
        cover.setFillColor(col);
    }

    /*
     * @see org.tigris.gef.presentation.Fig#getFillColor()
     */
    @Override
    public Color getFillColor() {
        return cover.getFillColor();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setFilled(boolean)
     */
    @Override
    public void setFilled(boolean f) {
        cover.setFilled(f);
        getBigPort().setFilled(f);
    }


    @Override
    public boolean isFilled() {
        return cover.isFilled();
    }

    /*
     * @see org.tigris.gef.presentation.Fig#setLineWidth(int)
     */
    @Override
    public void setLineWidth(int w) {
        cover.setLineWidth(w);
        divider.setLineWidth(w);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/WizStepChoice.java</td>
<td>105</td></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/WizStepConfirm.java</td>
<td>89</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>	gb.setConstraints(image, c);
	getMainPanel().add(image);

	c.weightx = 1.0;
	c.gridx = 2;
	c.gridheight = 1;
	c.gridwidth = 3;
	c.gridy = 0;
	c.fill = GridBagConstraints.HORIZONTAL;
	gb.setConstraints(instructions, c);
	getMainPanel().add(instructions);

	c.gridx = 1;
	c.gridy = 1;
	c.weightx = 0.0;
	c.gridwidth = 1;
	c.fill = GridBagConstraints.NONE;
	SpacerPanel spacer = new SpacerPanel();
	gb.setConstraints(spacer, c);
	getMainPanel().add(spacer);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigConcurrentRegion.java</td>
<td>336</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigConcurrentRegion.java</td>
<td>369</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        dividerline.setShape(x, y, x + w , y);
        getNameFig().setBounds(x + 2, y + 2, w - 4, nameDim.height);
        getInternal().setBounds(x + 2, y + nameDim.height + 4,
                w - 4, h - nameDim.height - 8);
        getBigPort().setBounds(x, y, w, h);
        cover.setBounds(x, y, w, h);

        calcBounds(); //_x = x; _y = y; _w = w; _h = h;
        updateEdges();
        firePropChange(&quot;bounds&quot;, oldBounds, getBounds());
    }

    /**
     * To resize with X, Y and height increments and absolute width.
     * The boolean parameter is added in order to override the method.
     *
     * @param xInc the x increment
     * @param yInc the y increment
     * @param w the width
     * @param concurrency is concurrent?
     * @param hInc the height increment
     */
    public void setBounds(int xInc, int yInc, int w, int hInc,</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/ui/foundation/core/ActionSetGeneralizableElementAbstract.java</td>
<td>65</td></tr>
<tr class="b">
<td>org/argouml/uml/ui/foundation/core/ActionSetGeneralizableElementLeaf.java</td>
<td>66</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/foundation/core/ActionSetGeneralizableElementRoot.java</td>
<td>65</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    protected ActionSetGeneralizableElementAbstract() {
        super(Translator.localize(&quot;Set&quot;), null);
        // Set the tooltip string:
        putValue(Action.SHORT_DESCRIPTION, 
                Translator.localize(&quot;Set&quot;));
    }

    /*
     * @see java.awt.event.ActionListener#actionPerformed(java.awt.event.ActionEvent)
     */
    public void actionPerformed(ActionEvent e) {
        super.actionPerformed(e);
        if (e.getSource() instanceof UMLCheckBox2) {
            UMLCheckBox2 source = (UMLCheckBox2) e.getSource();
            Object target = source.getTarget();
            if (Model.getFacade().isAGeneralizableElement(target)
                    || Model.getFacade().isAOperation(target)
                    || Model.getFacade().isAReception(target)) {
                Model.getCoreHelper().setAbstract(target, source.isSelected());</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/persistence/OldZargoFilePersister.java</td>
<td>102</td></tr>
<tr class="a">
<td>org/argouml/persistence/UmlFilePersister.java</td>
<td>140</td></tr>
<tr class="b">
<td>org/argouml/persistence/XmiFilePersister.java</td>
<td>109</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    }

    /**
     * Save the project in &quot;.zargo&quot; format.
     *
     * @param file
     *            The file to write.
     * @param project
     *            the project to save
     * @throws SaveException
     *             when anything goes wrong
     * @throws InterruptedException     if the thread is interrupted
     *
     * @see org.argouml.persistence.ProjectFilePersister#save(
     *      org.argouml.kernel.Project, java.io.File)
     */
    public void doSave(Project project, File file) throws SaveException,
    InterruptedException {

        /* Retain the previous project file even when the save operation
         * crashes in the middle. Also create a backup file after saving. */
        boolean doSafeSaves = useSafeSaves();

        ProgressMgr progressMgr = new ProgressMgr();
        progressMgr.setNumberOfPhases(4);
        progressMgr.nextPhase();

        File lastArchiveFile = new File(file.getAbsolutePath() + &quot;~&quot;);
        File tempFile = null;

        if (doSafeSaves) {
            try {
                tempFile = createTempFile(file);
            } catch (FileNotFoundException e) {
                throw new SaveException(Translator.localize(
                        &quot;optionpane.save-project-exception-cause1&quot;), e);
            } catch (IOException e) {
                throw new SaveException(Translator.localize(
                        &quot;optionpane.save-project-exception-cause2&quot;), e);
            }
        }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/deployment/ui/SelectionComponent.java</td>
<td>87</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/deployment/ui/SelectionComponentInstance.java</td>
<td>82</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    public SelectionComponent(Fig f) {
        super(f);
    }

    @Override
    protected Icon[] getIcons() {
        if (Model.getModelManagementHelper().isReadOnly(
                getContent().getOwner())) {
            return new Icon[] {null, dep, depRight, null, null };
        }
        return icons;
    }

    @Override
    protected String getInstructions(int index) {
        return instructions[index - BASE];
    }

    @Override
    protected Object getNewEdgeType(int index) {
        return Model.getMetaTypes().getDependency();
    }

    @Override
    protected Object getNewNode(int index) {
        return Model.getCoreFactory().createComponent();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/notation/ui/SettingsTabNotation.java</td>
<td>115</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/ui/SettingsTabDiagramAppearance.java</td>
<td>120</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        topPanel.setLayout(new BorderLayout());

        if (scope == Argo.SCOPE_APPLICATION) {
            JPanel warning = new JPanel();
            warning.setLayout(new BoxLayout(warning, BoxLayout.PAGE_AXIS));
            JLabel warningLabel = new JLabel(Translator
                    .localize(&quot;label.warning&quot;));
            warningLabel.setAlignmentX(Component.RIGHT_ALIGNMENT);
            warning.add(warningLabel);

            JLinkButton projectSettings = new JLinkButton();
            projectSettings.setAction(new ActionProjectSettings());
            projectSettings.setText(Translator
                    .localize(&quot;button.project-settings&quot;));
            projectSettings.setIcon(null);
            projectSettings.setAlignmentX(Component.RIGHT_ALIGNMENT);
            warning.add(projectSettings);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/UmlDiagramRenderer.java</td>
<td>332</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/static_structure/ui/UMLClassDiagram.java</td>
<td>962</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    protected FigNode getNodePresentationFor(Layer lay, Object modelElement) {
        assert modelElement != null : &quot;A modelElement must be supplied&quot;;
        for (Object fig : lay.getContentsNoEdges()) {
 
            if (fig instanceof FigNode
                    &amp;&amp; modelElement.equals(((FigNode) fig).getOwner())) {
                return ((FigNode) fig);
            }
        }
        for (Object fig : lay.getContentsEdgesOnly()) {
            if (fig instanceof FigEdgeModelElement
                    &amp;&amp; modelElement.equals(((FigEdgeModelElement) fig)
                            .getOwner())) {
                return ((FigEdgeModelElement) fig).getEdgePort();
            }
        }
        return null;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/FigEdgeModelElement.java</td>
<td>418</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/ui/FigNodeModelElement.java</td>
<td>682</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        Collection&lt;Object&gt; elements = new ArrayList&lt;Object&gt;();
        Object owner = getOwner();
        if (owner != null) {
            elements.add(owner);
        }
        for (Object o : TargetManager.getInstance().getTargets()) {
            Object element = null;
            if (Model.getFacade().isAUMLElement(o)) {
                element = o;
            } else if (o instanceof Fig) {
                element = ((Fig) o).getOwner();
            }
            if (element != null &amp;&amp; element != owner) {
                elements.add(element);
            }
        }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/WizStepChoice.java</td>
<td>83</td></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/WizStepCue.java</td>
<td>72</td></tr>
<tr class="a">
<td>org/argouml/cognitive/ui/WizStepManyTextFields.java</td>
<td>80</td></tr>
<tr class="b">
<td>org/argouml/cognitive/ui/WizStepTextField.java</td>
<td>71</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>	instructions.setEditable(false);
	instructions.setBorder(null);
	instructions.setBackground(getMainPanel().getBackground());

	getMainPanel().setBorder(new EtchedBorder());

	GridBagLayout gb = new GridBagLayout();
	getMainPanel().setLayout(gb);

	GridBagConstraints c = new GridBagConstraints();
	c.ipadx = 3; c.ipady = 3;
	c.weightx = 0.0; c.weighty = 0.0;
	c.anchor = GridBagConstraints.EAST;

	JLabel image = new JLabel(&quot;&quot;);
	//image.setMargin(new Insets(0, 0, 0, 0));
	image.setIcon(getWizardIcon());
	image.setBorder(null);
	c.gridx = 0;
	c.gridheight = GridBagConstraints.REMAINDER;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/notation/providers/uml/NotationUtilityUml.java</td>
<td>1111</td></tr>
<tr class="b">
<td>org/argouml/notation/providers/uml/TransitionNotationUml.java</td>
<td>734</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    private static String generateKind(Object /*Parameter etc.*/ kind) {
        StringBuffer s = new StringBuffer();
        // TODO: I18N
        if (kind == null /* &quot;in&quot; is the default */
                || kind == Model.getDirectionKind().getInParameter()) {
            s.append(/*&quot;in&quot;*/ &quot;&quot;); /* See issue 3421. */
        } else if (kind == Model.getDirectionKind().getInOutParameter()) {
            s.append(&quot;inout&quot;);
        } else if (kind == Model.getDirectionKind().getReturnParameter()) {
            // return nothing
        } else if (kind == Model.getDirectionKind().getOutParameter()) {
            s.append(&quot;out&quot;);
        }
        return s.toString();
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/ui/JasonsBigTheme.java</td>
<td>76</td></tr>
<tr class="b">
<td>org/argouml/ui/JasonsHugeTheme.java</td>
<td>76</td></tr>
<tr class="a">
<td>org/argouml/ui/JasonsTheme.java</td>
<td>76</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public String getName() { return &quot;Large Fonts&quot;; }

    // these are blue in Metal Default Theme
    /*
     * @see javax.swing.plaf.metal.MetalTheme#getPrimary1()
     */
    protected ColorUIResource getPrimary1() { return primary1; }

    /*
     * @see javax.swing.plaf.metal.MetalTheme#getPrimary2()
     */
    protected ColorUIResource getPrimary2() { return primary2; }

    /*
     * @see javax.swing.plaf.metal.MetalTheme#getPrimary3()
     */
    protected ColorUIResource getPrimary3() { return primary3; }

    // these are gray in Metal Default Theme
    /*
     * @see javax.swing.plaf.metal.MetalTheme#getSecondary1()
     */
    protected ColorUIResource getSecondary1() { return secondary1; }

    /*
     * @see javax.swing.plaf.metal.MetalTheme#getSecondary2()
     */
    protected ColorUIResource getSecondary2() { return secondary2; }

    /*
     * @see javax.swing.plaf.metal.MetalTheme#getSecondary3()
     */
    protected ColorUIResource getSecondary3() { return secondary3; }

    /*
     * @see javax.swing.plaf.metal.MetalTheme#getControlTextFont()
     */
    public FontUIResource getControlTextFont() { return controlFont; }

    /*
     * @see javax.swing.plaf.metal.MetalTheme#getSystemTextFont()
     */
    public FontUIResource getSystemTextFont() { return systemFont; }

    /*
     * @see javax.swing.plaf.metal.MetalTheme#getUserTextFont()
     */
    public FontUIResource getUserTextFont() { return userFont; }

    /*
     * @see javax.swing.plaf.metal.MetalTheme#getMenuTextFont()
     */
    public FontUIResource getMenuTextFont() { return controlFont; }

    /*
     * @see javax.swing.plaf.metal.MetalTheme#getSubTextFont()
     */
    public FontUIResource getSubTextFont() { return smallFont; }

    /*
     * @see javax.swing.plaf.metal.MetalTheme#getWindowTitleFont()
     */
    public FontUIResource getWindowTitleFont() { return windowTitleFont; }
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/static_structure/ui/StylePanelFigClass.java</td>
<td>120</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/StylePanelFigAssociationClass.java</td>
<td>196</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    }

    ////////////////////////////////////////////////////////////////
    // event handling

    /*
     * @see java.awt.event.ItemListener#itemStateChanged(java.awt.event.ItemEvent)
     */
    public void itemStateChanged(ItemEvent e) {
        if (!refreshTransaction) {
            Object src = e.getSource();

            if (src == attrCheckBox) {
                FigCompartmentBox fcb = (FigCompartmentBox) getPanelTarget();
                fcb.showCompartment(Model.getMetaTypes().getAttribute(), 
                        attrCheckBox.isSelected());
            } else if (src == operCheckBox) {
                FigCompartmentBox fcb = (FigCompartmentBox) getPanelTarget();
                fcb.showCompartment(Model.getMetaTypes().getOperation(),
                        operCheckBox.isSelected());
            } else {
                super.itemStateChanged(e);
            }
        }
    }
} /* end class StylePanelFigClass */</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/ui/ActionAddMessage.java</td>
<td>80</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/foundation/core/ActionAddOperation.java</td>
<td>78</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>            targetFollower  = new ActionAddMessage();
            TargetManager.getInstance().addTargetListener(new TargetListener() {
                public void targetAdded(TargetEvent e) {
                    setTarget();
                }
                public void targetRemoved(TargetEvent e) {
                    setTarget();
                }

                public void targetSet(TargetEvent e) {
                    setTarget();
                }
                private void setTarget() {
                    targetFollower.setEnabled(targetFollower.shouldBeEnabled());
                }
            });
            targetFollower.setEnabled(targetFollower.shouldBeEnabled());
        }
        return targetFollower;
    }

    /*
     * @see java.awt.event.ActionListener#actionPerformed(java.awt.event.ActionEvent)
     */
    public void actionPerformed(ActionEvent ae) {
        super.actionPerformed(ae);
    	Object target =  TargetManager.getInstance().getModelTarget();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/notation/providers/uml/EnumerationLiteralNotationUml.java</td>
<td>200</td></tr>
<tr class="a">
<td>org/argouml/notation/providers/uml/NotationUtilityUml.java</td>
<td>301</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>            st = new MyTokenizer(text, &quot;&lt;&lt;,\u00AB,\u00BB,&gt;&gt;&quot;);
            while (st.hasMoreTokens()) {
                token = st.nextToken();

                if (&quot;&lt;&lt;&quot;.equals(token) || &quot;\u00AB&quot;.equals(token)) {
                    if (stereotype != null) {
                        String msg = 
                            &quot;parsing.error.model-element-name.twin-stereotypes&quot;;
                        throw new ParseException(Translator.localize(msg),
                                st.getTokenIndex());
                    }

                    stereotype = new StringBuilder();
                    while (true) {
                        token = st.nextToken();
                        if (&quot;&gt;&gt;&quot;.equals(token) || &quot;\u00BB&quot;.equals(token)) {
                            break;
                        }
                        stereotype.append(token);
                    }
                } else {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/state/ui/FigConcurrentRegion.java</td>
<td>336</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/state/ui/FigConcurrentRegion.java</td>
<td>400</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        dividerline.setShape(x, y, x + w , y);
        getNameFig().setBounds(x + 2, y + 2, w - 4, nameDim.height);
        getInternal().setBounds(x + 2, y + nameDim.height + 4,
                w - 4, h - nameDim.height - 8);
        getBigPort().setBounds(x, y, w, h);
        cover.setBounds(x, y, w, h);

        calcBounds(); //_x = x; _y = y; _w = w; _h = h;
        updateEdges();
        firePropChange(&quot;bounds&quot;, oldBounds, getBounds());
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/ui/FigAssociationClass.java</td>
<td>124</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/ui/FigNodeAssociation.java</td>
<td>336</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        if (edges != null) {
            for (Iterator it = edges.iterator(); it.hasNext()
                    &amp;&amp; figEdgeLink == null;) {
                Object o = it.next();
                if (o instanceof FigEdgeAssociationClass) {
                    figEdgeLink = (FigEdgeAssociationClass) o;
                }
            }
        }

        if (figEdgeLink != null) {
            FigNode figClassBox = figEdgeLink.getDestFigNode();
            if (!(figClassBox instanceof FigClassAssociationClass)) {
                figClassBox = figEdgeLink.getSourceFigNode();
            }
            figEdgeLink.removeFromDiagramImpl();
            ((FigClassAssociationClass) figClassBox).removeFromDiagramImpl();
        }

        super.removeFromDiagramImpl();
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/static_structure/ClassDiagramGraphModel.java</td>
<td>352</td></tr>
<tr class="a">
<td>org/argouml/uml/diagram/use_case/UseCaseDiagramGraphModel.java</td>
<td>282</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        } else {
            return false;
        }

        if (sourceModelElement == null || destModelElement == null) {
            LOG.log(Level.SEVERE,
                    &quot;Edge rejected. Its ends are not attached to anything&quot;);
            return false;
        }

        if (!containsNode(sourceModelElement)
                &amp;&amp; !containsEdge(sourceModelElement)) {
            LOG.log(Level.SEVERE,
                    &quot;Edge rejected. Its source end is attached to &quot;
                    + sourceModelElement
                    + &quot; but this is not in the graph model&quot;);
            return false;
        }
        if (!containsNode(destModelElement)
                &amp;&amp; !containsEdge(destModelElement)) {
            LOG.log(Level.SEVERE,
                    &quot;Edge rejected. Its destination end is attached to &quot;
                    + destModelElement
                    + &quot; but this is not in the graph model&quot;);
            return false;
        }

        return true;
    }


    /*
     * @see org.tigris.gef.graph.MutableGraphModel#addNode(java.lang.Object)
     */
    @Override
    public void addNode(Object node) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/diagram/ui/ActionAddMessage.java</td>
<td>80</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/foundation/core/ActionAddAttribute.java</td>
<td>81</td></tr>
<tr class="b">
<td>org/argouml/uml/ui/foundation/core/ActionAddOperation.java</td>
<td>78</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>            targetFollower  = new ActionAddMessage();
            TargetManager.getInstance().addTargetListener(new TargetListener() {
                public void targetAdded(TargetEvent e) {
                    setTarget();
                }
                public void targetRemoved(TargetEvent e) {
                    setTarget();
                }

                public void targetSet(TargetEvent e) {
                    setTarget();
                }
                private void setTarget() {
                    targetFollower.setEnabled(targetFollower.shouldBeEnabled());
                }
            });
            targetFollower.setEnabled(targetFollower.shouldBeEnabled());
        }
        return targetFollower;
    }

    /*
     * @see java.awt.event.ActionListener#actionPerformed(java.awt.event.ActionEvent)
     */
    public void actionPerformed(ActionEvent ae) {
        super.actionPerformed(ae);
    	Object target =  TargetManager.getInstance().getModelTarget();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/uml/diagram/deployment/ui/SelectionNodeInstance.java</td>
<td>80</td></tr>
<tr class="b">
<td>org/argouml/uml/diagram/deployment/ui/SelectionObject.java</td>
<td>81</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    public SelectionNodeInstance(Fig f) { super(f); }

    @Override
    protected Icon[] getIcons() {
        if (Model.getModelManagementHelper().isReadOnly(
                getContent().getOwner())) {
            return new Icon[6];
        }
        return icons;
    }

    @Override
    protected String getInstructions(int index) {
        return instructions[index - BASE];
    }

    @Override
    protected Object getNewEdgeType(int index) {
        return Model.getMetaTypes().getLink();
    }

    @Override
    protected Object getNewNode(int index) {
        return Model.getCommonBehaviorFactory().createNodeInstance();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/notation/ui/SettingsTabNotation.java</td>
<td>118</td></tr>
<tr class="b">
<td>org/argouml/ui/SettingsTabUser.java</td>
<td>96</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>            JPanel warning = new JPanel();
            warning.setLayout(new BoxLayout(warning, BoxLayout.PAGE_AXIS));
            JLabel warningLabel = new JLabel(Translator
                    .localize(&quot;label.warning&quot;));
            warningLabel.setAlignmentX(Component.RIGHT_ALIGNMENT);
            warning.add(warningLabel);

            JLinkButton projectSettings = new JLinkButton();
            projectSettings.setAction(new ActionProjectSettings());
            projectSettings.setText(Translator
                    .localize(&quot;button.project-settings&quot;));
            projectSettings.setIcon(null);
            projectSettings.setAlignmentX(Component.RIGHT_ALIGNMENT);
            warning.add(projectSettings);

            topPanel.add(warning, BorderLayout.NORTH);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/argouml/ui/cmd/RelationshipActionFactory.java</td>
<td>76</td></tr>
<tr class="b">
<td>org/argouml/ui/cmd/RelationshipActionFactory.java</td>
<td>107</td></tr>
<tr class="a">
<td>org/argouml/ui/cmd/RelationshipActionFactory.java</td>
<td>138</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        ActionList al= new ActionList(&quot;Add Associations from &quot;);
        if (Model.getFacade().isAClass(element)) {
            Collection associationEnds = Model.getFacade().getAssociationEnds(element);
            
            for (Object associationEnd : associationEnds) {
                Object association = Model.getFacade().getAssociation(associationEnd);
                
                // Only show actions for associations not already on diagram
                if (diagram.presentationFor(association) == null) {
                    Collection connections = Model.getFacade().getConnections(association);
                    if (connections.size() == 2) {
                        for (Object connection : connections) {
                            if (connection != associationEnd) {
                                final String direction;
                                if (Model.getFacade().isNavigable(associationEnd)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNoIncomingTransitions.java</td>
<td>122</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNoOutgoingTransitions.java</td>
<td>121</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>            if (!isSomeSubvertexOf(sourceState, dm) &amp;&amp; isSomeSubvertexOf(targetState, dm)) {
                return NO_PROBLEM;
            }
        }

        return PROBLEM_FOUND;
    }
    
    /**
     * Test if a state is contained within a composite state recursively. 
     * This is done by checking if the parent of the subject 
     * equals the composite, or the parent of the parent, etc.
     * 
     * @param subject the StateVertex that is investigated
     * @param composite the Composite state that may or may not contain the subject
     * @return true if and only if the given composite contains recursively the given subject
     */
    private boolean isSomeSubvertexOf(Object subject, Object composite) {
        Object c = subject;
        while (c != null) {
            if (c == composite) {
                return true;
            }
            c = Model.getFacade().getContainer(c);
        }
        return false;
    }

    /*
     * @see org.argouml.uml.cognitive.critics.CrUML#getCriticizedDesignMaterials()
     */
    @Override
    public Set&lt;Object&gt; getCriticizedDesignMaterials() {
        Set&lt;Object&gt; ret = new HashSet&lt;Object&gt;();
        ret.add(Model.getMetaTypes().getStateVertex());
        return ret;
    }
    
}</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrMultipleInitialStates.java</td>
<td>88</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrMultipleShallowHistoryStates.java</td>
<td>91</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                Model.getPseudostateKind().getInitial())) {
	    return NO_PROBLEM;
        }

        // container state / composite state
        Object cs = Model.getFacade().getContainer(dm);
        if (cs == null) {
            LOG.log(Level.FINE, &quot;null parent state&quot;);
            return NO_PROBLEM;
        }

        int initialStateCount = 0;
        Collection peers = Model.getFacade().getSubvertices(cs);
        for (Object sv : peers) {
            if (Model.getFacade().isAPseudostate(sv)
                &amp;&amp; Model.getFacade().
                	equalsPseudostateKind(
                	        Model.getFacade().getKind(sv),
                	        Model.getPseudostateKind().getInitial())) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNoInstanceVariables.java</td>
<td>82</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNoOperations.java</td>
<td>77</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	if (!(Model.getFacade().isAClass(dm))) {
            return NO_PROBLEM;
        }

	if (!(Model.getFacade().isPrimaryObject(dm))) {
            return NO_PROBLEM;
        }

        // if the object does not have a name,
        // than no problem
        if ((Model.getFacade().getName(dm) == null)
                || (&quot;&quot;.equals(Model.getFacade().getName(dm)))) {
            return NO_PROBLEM;
        }

	// types can probably have variables, but we should not nag at them
	// not having any.
	if (Model.getFacade().isType(dm)) {
            return NO_PROBLEM;
        }

	// utility is a namespace collection - also not strictly
	// required to have variables.
	if (Model.getFacade().isUtility(dm)) {
            return NO_PROBLEM;
        }

	if (findChangeableInstanceAttributeInInherited(dm, 0)) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrNoIncomingTransitions.java</td>
<td>65</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNoOutgoingTransitions.java</td>
<td>65</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	addTrigger(&quot;incoming&quot;);
    }

    /**
     * This is the decision routine for the critic.
     *
     * @param dm is the design material, i.e. the 
     *     UML entity that is being checked.
     * @param dsgr is for future development and can be ignored.
     *
     * @return boolean problem found
     */
    @Override
    public boolean predicate2(Object dm, Designer dsgr) {
        if (!(Model.getFacade().isAStateVertex(dm))) {
            return NO_PROBLEM;
        }
        /* Now we are sure dm is a StateVertex. */
        if (Model.getFacade().isAPseudostate(dm)) {
            Object k = Model.getFacade().getKind(dm);
            if (k.equals(Model.getPseudostateKind().getChoice())) {
                return NO_PROBLEM;
            }
            if (k.equals(Model.getPseudostateKind().getJunction())) {
                return NO_PROBLEM;
            }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/ui/SettingsTabProfile.java</td>
<td>126</td></tr>
<tr class="a">
<td>org/argouml/ui/SettingsTabUser.java</td>
<td>94</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        setLayout(new BorderLayout());

        JPanel warning = new JPanel();
        warning.setLayout(new BoxLayout(warning, BoxLayout.PAGE_AXIS));
        JLabel warningLabel = new JLabel(Translator.localize(&quot;label.warning&quot;));
        warningLabel.setAlignmentX(Component.RIGHT_ALIGNMENT);
        warning.add(warningLabel);

        JLinkButton projectSettings = new JLinkButton();
        projectSettings.setAction(new ActionProjectSettings());
        projectSettings.setText(Translator.localize(&quot;button.project-settings&quot;));
        projectSettings.setIcon(null);
        projectSettings.setAlignmentX(Component.RIGHT_ALIGNMENT);
        warning.add(projectSettings);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/profile/internal/ocl/uml14/CollectionsModelInterpreter.java</td>
<td>163</td></tr>
<tr class="a">
<td>org/argouml/profile/internal/ocl/uml14/CollectionsModelInterpreter.java</td>
<td>240</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                } else if (feature.toString().trim().equals(&quot;exists&quot;)) {
                    List&lt;String&gt; vars = (ArrayList&lt;String&gt;) parameters[0];
                    Object exp = parameters[1];
                    LambdaEvaluator eval = (LambdaEvaluator) parameters[2];

                    Collection col = (Collection) subject;

                    // TODO is it possible to use more than one variable?
                    String varName = vars.get(0);
                    Object oldVal = vt.get(varName);

                    for (Object object : col) {
                        vt.put(varName, object);

                        Object val = eval.evaluate(vt, exp);
                        if (val instanceof Boolean &amp;&amp; (Boolean) val) {
                            return true;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/ui/JasonsHugeTheme.java</td>
<td>49</td></tr>
<tr class="a">
<td>org/argouml/ui/JasonsTheme.java</td>
<td>49</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>public class JasonsHugeTheme extends MetalTheme {

    private final ColorUIResource primary1 = new ColorUIResource(102, 102, 153);
    private final ColorUIResource primary2 = new ColorUIResource(153, 153, 204);
    private final ColorUIResource primary3 = new ColorUIResource(204, 204, 255);

    private final ColorUIResource secondary1 =
	new ColorUIResource(102, 102, 102);
    private final ColorUIResource secondary2 =
	new ColorUIResource(153, 153, 153);
    private final ColorUIResource secondary3 =
	new ColorUIResource(204, 204, 204);

    private final FontUIResource controlFont =
	new FontUIResource(&quot;SansSerif&quot;, Font.BOLD, 16);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrMissingClassName.java</td>
<td>78</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrMissingStateName.java</td>
<td>97</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	String myName = Model.getFacade().getName(e);
	if (myName == null || myName.equals(&quot;&quot;) || myName.length() == 0) {
	    return PROBLEM_FOUND;
	}
	return NO_PROBLEM;
    }

    /*
     * @see org.argouml.cognitive.Poster#getClarifier()
     */
    @Override
    public Icon getClarifier() {
	return ClClassName.getTheInstance();
    }

    /*
     * @see org.argouml.cognitive.critics.Critic#initWizard(
     *         org.argouml.cognitive.ui.Wizard)
     */
    @Override
    public void initWizard(Wizard w) {
	if (w instanceof WizMEName) {
	    ToDoItem item = (ToDoItem) w.getToDoItem();
	    Object me = item.getOffenders().get(0);
	    String ins = super.getInstructions();
	    String sug = super.getDefaultSuggestion();</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/cognitive/critics/CrAssocNameConflict.java</td>
<td>122</td></tr>
<tr class="a">
<td>org/argouml/uml/cognitive/critics/CrNameConflict.java</td>
<td>127</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                }
                names.put(name, name1Object);
            }
        }
        return offenderResult;
    }

    /*
     * @see org.argouml.cognitive.Poster#stillValid(
     *      org.argouml.cognitive.ToDoItem, org.argouml.cognitive.Designer)
     */
    @Override
    public boolean stillValid(ToDoItem i, Designer dsgr) {
        if (!isActive()) {
            return false;
        }
        ListSet offs = i.getOffenders();

        // first element is e.g. the class, but we need to have its namespace
        // to recompute the offenders.
        Object f = offs.get(0);
        Object ns = Model.getFacade().getNamespace(f);
        if (!predicate(ns, dsgr)) {
            return false;
        }
        ListSet newOffs = computeOffenders(ns);
        boolean res = offs.equals(newOffs);
        return res;
    }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/argouml/uml/ui/TabConstraints.java</td>
<td>701</td></tr>
<tr class="a">
<td>org/argouml/uml/ui/TabConstraints.java</td>
<td>729</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        protected void fireConstraintDataChanged(
                         int nIdx,
                         Object mcOld,
                         Object mcNew) {
            // Guaranteed to return a non-null array
            Object[] listeners = theMEllListeners.getListenerList();

            ConstraintChangeEvent cce = null;

            // Process the listeners last to first, notifying
            // those that are interested in this event
            for (int i = listeners.length - 2; i &gt;= 0; i -= 2) {
                if (listeners[i] == ConstraintChangeListener.class) {
                    // Lazily create the event:
                    if (cce == null) {
                        cce = new ConstraintChangeEvent(
                            this,
                            nIdx,
                            new CR(mcOld, nIdx),
                            new CR(mcNew, nIdx));
                    }

                    ((ConstraintChangeListener) listeners[i + 1])
                        .constraintDataChanged(cce);</pre></div></td></tr></table></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2021.
          All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>