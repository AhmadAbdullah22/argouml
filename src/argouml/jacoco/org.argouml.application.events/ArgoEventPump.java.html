<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ArgoEventPump.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">argouml-app</a> &gt; <a href="index.source.html" class="el_package">org.argouml.application.events</a> &gt; <span class="el_source">ArgoEventPump.java</span></div><h1>ArgoEventPump.java</h1><pre class="source lang-java linenums">/* $Id$
 *******************************************************************************
 * Copyright (c) 2009-2012 Contributors - see below
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *    tfmorris
 *******************************************************************************
 *
 * Some portions of this file was previously release using the BSD License:
 */

// Copyright (c) 1996-2008 The Regents of the University of California. All
// Rights Reserved. Permission to use, copy, modify, and distribute this
// software and its documentation without fee, and without a written
// agreement is hereby granted, provided that the above copyright notice
// and this paragraph appear in all copies.  This software program and
// documentation are copyrighted by The Regents of the University of
// California. The software program and documentation are supplied &quot;AS
// IS&quot;, without any accompanying services from The Regents. The Regents
// does not warrant that the operation of the program will be
// uninterrupted or error-free. The end-user understands that the program
// was developed for research purposes and is advised not to rely
// exclusively on the program for any reason.  IN NO EVENT SHALL THE
// UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,
// SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,
// ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF
// THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF
// SUCH DAMAGE. THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY
// WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE
// PROVIDED HEREUNDER IS ON AN &quot;AS IS&quot; BASIS, AND THE UNIVERSITY OF
// CALIFORNIA HAS NO OBLIGATIONS TO PROVIDE MAINTENANCE, SUPPORT,
// UPDATES, ENHANCEMENTS, OR MODIFICATIONS.

package org.argouml.application.events;

import java.util.ArrayList;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;

import javax.swing.SwingUtilities;

import org.argouml.application.api.ArgoEventListener;

/**
 * ArgoEventPump is an event dispatcher which handles events that are global
 * in nature for the entire application.
 * &lt;p&gt;
 * TODO: DiagramAppearance and Notation events are not application-wide and will
 * be moved from here to someplace more specific in the future so that they can
 * be managed on a per-project or per-diagram basis.
 */
public final class ArgoEventPump {
    /**
     * Logger.
     */
<span class="fc" id="L62">    private static final Logger LOG =</span>
<span class="fc" id="L63">        Logger.getLogger(ArgoEventPump.class.getName());</span>

    /**
     * &lt;code&gt;listeners&lt;/code&gt; contains the list of register listeners.
     *
     * It is a list of {@link Pair}.
     */
    private List&lt;Pair&gt; listeners;

    /**
     * The singleton.
     */
<span class="fc" id="L75">    static final ArgoEventPump SINGLETON = new ArgoEventPump();</span>

    /**
     * @return the singleton
     */
    public static ArgoEventPump getInstance() {
<span class="nc" id="L81">        return SINGLETON;</span>
    }

    /**
     * Constructor.
     */
    private ArgoEventPump() {
    }

    /**
     * @param listener The listener to be added.
     */
    public static void addListener(ArgoEventListener listener) {
<span class="fc" id="L94">        SINGLETON.doAddListener(ArgoEventTypes.ANY_EVENT, listener);</span>
<span class="fc" id="L95">    }</span>

    /**
     * @param event the event-type to what the listener will listen
     * @param listener the listener to be added
     */
    public static void addListener(int event, ArgoEventListener listener) {
<span class="fc" id="L102">        SINGLETON.doAddListener(event, listener);</span>
<span class="fc" id="L103">    }</span>

    /**
     * @param listener the listener to be removed
     */
    public static void removeListener(ArgoEventListener listener) {
<span class="nc" id="L109">        SINGLETON.doRemoveListener(ArgoEventTypes.ANY_EVENT, listener);</span>
<span class="nc" id="L110">    }</span>

    /**
     * @param event the event to which the listener will not listen any more
     * @param listener the listener to be removed
     */
    public static void removeListener(int event, ArgoEventListener listener) {
<span class="fc" id="L117">        SINGLETON.doRemoveListener(event, listener);</span>
<span class="fc" id="L118">    }</span>

    /**
     * @param event the event to what the listener will listen (?)
     * @param listener the listener to be added
     */
    protected void doAddListener(int event, ArgoEventListener listener) {
<span class="fc bfc" id="L125" title="All 2 branches covered.">        if (listeners == null) {</span>
<span class="fc" id="L126">            listeners = new ArrayList&lt;Pair&gt;();</span>
        }
<span class="fc" id="L128">        synchronized (listeners) {</span>
<span class="fc" id="L129">            listeners.add(new Pair(event, listener));</span>
<span class="fc" id="L130">        }</span>
<span class="fc" id="L131">    }</span>

    /**
     * Removes a listener, eventtype pair from the listener list.
     *
     * TODO: replace the listener implementation with a EventListenerList
     * for better performance
     *
     * @param event the event to which the listener will not listen any more
     * @param listener the listener to be removed
     */
    protected void doRemoveListener(int event, ArgoEventListener listener) {
<span class="pc bpc" id="L143" title="1 of 2 branches missed.">        if (listeners == null) {</span>
<span class="nc" id="L144">            return;</span>
        }
<span class="fc" id="L146">        synchronized (listeners) {</span>
<span class="fc" id="L147">            List&lt;Pair&gt; removeList = new ArrayList&lt;Pair&gt;();</span>
<span class="pc bpc" id="L148" title="1 of 2 branches missed.">            if (event == ArgoEventTypes.ANY_EVENT) {</span>
                // TODO: This is a linear search of a list that contain many
                // thousands of items (one for every Fig in the entire project)
<span class="nc bnc" id="L151" title="All 2 branches missed.">                for (Pair p : listeners) {</span>
<span class="nc bnc" id="L152" title="All 2 branches missed.">                    if (p.listener == listener) {</span>
<span class="nc" id="L153">                        removeList.add(p);</span>
                    }
<span class="nc" id="L155">                }</span>
            } else {
<span class="fc" id="L157">                Pair test = new Pair(event, listener);</span>
                // TODO: This is a linear search of a list that contain many
                // thousands of items (one for every Fig in the entire project)
<span class="fc bfc" id="L160" title="All 2 branches covered.">                for (Pair p : listeners) {</span>
<span class="fc bfc" id="L161" title="All 2 branches covered.">                    if (p.equals(test)) {</span>
<span class="fc" id="L162">                        removeList.add(p);</span>
                    }
<span class="fc" id="L164">                }</span>
            }
<span class="fc" id="L166">            listeners.removeAll(removeList);</span>
<span class="fc" id="L167">        }</span>
<span class="fc" id="L168">    }</span>

    /**
     * Handle firing a notation event.
     * &lt;p&gt;
     * TODO: This needs to be managed on a per-diagram or per-project basis.
     *
     * @param event The event to be fired.
     * @param listener The listener.
     */
    private void handleFireNotationEvent(
        final ArgoNotationEvent event,
        final ArgoNotationEventListener listener) {

        // Notation events are likely to cause GEF/Swing operations, so we
        // dispatch them on the Swing event thread as a convenience so that
        // the receiving notationChanged() methods don't need to deal with it
<span class="fc bfc" id="L185" title="All 2 branches covered.">        if (SwingUtilities.isEventDispatchThread()) {</span>
<span class="fc" id="L186">            fireNotationEventInternal(event, listener);</span>
        } else {
<span class="fc" id="L188">            SwingUtilities.invokeLater(new Runnable() {</span>
                public void run() {
<span class="fc" id="L190">                    fireNotationEventInternal(event, listener);</span>
<span class="fc" id="L191">                }</span>
            });
        }
<span class="fc" id="L194">    }</span>

    private void fireNotationEventInternal(ArgoNotationEvent event,
            ArgoNotationEventListener listener) {
<span class="pc bpc" id="L198" title="1 of 6 branches missed.">        switch (event.getEventType()) {</span>
        case ArgoEventTypes.NOTATION_CHANGED :
<span class="fc" id="L200">            listener.notationChanged(event);</span>
            /* Remark: The code in
             * ProjectSettings.init() currently presumes
             * that nobody is using this event. */
<span class="fc" id="L204">            break;</span>

        case ArgoEventTypes.NOTATION_ADDED :
<span class="fc" id="L207">            listener.notationAdded(event);</span>
<span class="fc" id="L208">            break;</span>

        case ArgoEventTypes.NOTATION_REMOVED :
<span class="fc" id="L211">            listener.notationRemoved(event);</span>
<span class="fc" id="L212">            break;</span>

        case ArgoEventTypes.NOTATION_PROVIDER_ADDED :
<span class="fc" id="L215">            listener.notationProviderAdded(event);</span>
<span class="fc" id="L216">            break;</span>

        case ArgoEventTypes.NOTATION_PROVIDER_REMOVED :
<span class="fc" id="L219">            listener.notationProviderRemoved(event);</span>
<span class="fc" id="L220">            break;</span>

	default :
<span class="nc" id="L223">            LOG.log(Level.SEVERE, &quot;Invalid event:&quot; + event.getEventType());</span>
	    break;
        }
<span class="fc" id="L226">    }</span>

    /**
     * Handle firing a diagram appearance event.
     * &lt;p&gt;
     * TODO: This needs to be managed on a per-diagram or per-project basis.
     *
     * @param event The event to be fired.
     * @param listener The listener.
     */
    private void handleFireDiagramAppearanceEvent(
        final ArgoDiagramAppearanceEvent event,
        final ArgoDiagramAppearanceEventListener listener) {
<span class="pc bpc" id="L239" title="1 of 2 branches missed.">        if (SwingUtilities.isEventDispatchThread()) {</span>
<span class="fc" id="L240">            fireDiagramAppearanceEventInternal(event, listener);</span>
        } else {
<span class="nc" id="L242">            SwingUtilities.invokeLater(new Runnable() {</span>
                public void run() {
<span class="nc" id="L244">                    fireDiagramAppearanceEventInternal(event, listener);</span>
<span class="nc" id="L245">                }</span>
            });
        }
<span class="fc" id="L248">    }</span>

    private void fireDiagramAppearanceEventInternal(
            final ArgoDiagramAppearanceEvent event,
            final ArgoDiagramAppearanceEventListener listener) {
<span class="pc bpc" id="L253" title="1 of 2 branches missed.">        switch (event.getEventType()) {</span>
        case ArgoEventTypes.DIAGRAM_FONT_CHANGED :
<span class="fc" id="L255">            listener.diagramFontChanged(event);</span>
<span class="fc" id="L256">            break;</span>
        default :
<span class="nc" id="L258">            LOG.log(Level.SEVERE, &quot;Invalid event:&quot; + event.getEventType());</span>
            break;
        }
<span class="fc" id="L261">    }</span>

    /**
     * Handle firing a help text event.
     *
     * @param event The event to be fired.
     * @param listener The listener.
     */
    private void handleFireHelpEvent(
        ArgoHelpEvent event,
        ArgoHelpEventListener listener) {
<span class="pc bpc" id="L272" title="1 of 3 branches missed.">        switch (event.getEventType()) {</span>
        case ArgoEventTypes.HELP_CHANGED :
<span class="fc" id="L274">            listener.helpChanged(event);</span>
<span class="fc" id="L275">            break;</span>

        case ArgoEventTypes.HELP_REMOVED :
<span class="fc" id="L278">            listener.helpRemoved(event);</span>
<span class="fc" id="L279">            break;</span>

        default :
<span class="nc" id="L282">            LOG.log(Level.SEVERE, &quot;Invalid event:&quot; + event.getEventType());</span>
            break;
        }
<span class="fc" id="L285">    }</span>


    /**
     * Handle firing a status text event.
     *
     * @param event The event to be fired.
     * @param listener The listener.
     */
    private void handleFireStatusEvent(
        ArgoStatusEvent event,
        ArgoStatusEventListener listener) {
<span class="pc bpc" id="L297" title="1 of 6 branches missed.">        switch (event.getEventType()) {</span>
        case ArgoEventTypes.STATUS_TEXT :
<span class="fc" id="L299">            listener.statusText(event);</span>
<span class="fc" id="L300">            break;</span>

        case ArgoEventTypes.STATUS_CLEARED :
<span class="fc" id="L303">            listener.statusCleared(event);</span>
<span class="fc" id="L304">            break;</span>

        case ArgoEventTypes.STATUS_PROJECT_SAVED :
<span class="fc" id="L307">            listener.projectSaved(event);</span>
<span class="fc" id="L308">            break;</span>

        case ArgoEventTypes.STATUS_PROJECT_LOADED :
<span class="fc" id="L311">            listener.projectLoaded(event);</span>
<span class="fc" id="L312">            break;</span>

        case ArgoEventTypes.STATUS_PROJECT_MODIFIED :
<span class="fc" id="L315">            listener.projectModified(event);</span>
<span class="fc" id="L316">            break;</span>

        default :
<span class="nc" id="L319">            LOG.log(Level.SEVERE, &quot;Invalid event:&quot; + event.getEventType());</span>
            break;
        }
<span class="fc" id="L322">    }</span>

    /**
     * Handle firing a profile event.
     *
     * @param event The event to be fired.
     * @param listener The listener.
     */
    private void handleFireProfileEvent(
        ArgoProfileEvent event,
        ArgoProfileEventListener listener) {
<span class="pc bpc" id="L333" title="1 of 3 branches missed.">        switch (event.getEventType()) {</span>
        case ArgoEventTypes.PROFILE_ADDED:
<span class="fc" id="L335">            listener.profileAdded(event);</span>
<span class="fc" id="L336">            break;</span>

        case ArgoEventTypes.PROFILE_REMOVED:
<span class="fc" id="L339">            listener.profileRemoved(event);</span>
<span class="fc" id="L340">            break;</span>

        default:
<span class="nc" id="L343">            LOG.log(Level.SEVERE, &quot;Invalid event:&quot; + event.getEventType());</span>
            break;
        }
<span class="fc" id="L346">    }</span>

    /**
     * Handle firing a generator event.
     *
     * @param event The event to be fired.
     * @param listener The listener.
     */
    private void handleFireGeneratorEvent(
        ArgoGeneratorEvent event,
        ArgoGeneratorEventListener listener) {
<span class="pc bpc" id="L357" title="1 of 4 branches missed.">        switch (event.getEventType()) {</span>
        case ArgoEventTypes.GENERATOR_CHANGED:
<span class="fc" id="L359">            listener.generatorChanged(event);</span>
<span class="fc" id="L360">            break;</span>

        case ArgoEventTypes.GENERATOR_ADDED:
<span class="fc" id="L363">            listener.generatorAdded(event);</span>
<span class="fc" id="L364">            break;</span>

        case ArgoEventTypes.GENERATOR_REMOVED:
<span class="fc" id="L367">            listener.generatorRemoved(event);</span>
<span class="fc" id="L368">            break;</span>

        default:
<span class="nc" id="L371">            LOG.log(Level.SEVERE, &quot;Invalid event:&quot; + event.getEventType());</span>
            break;
        }
<span class="fc" id="L374">    }</span>

    private void handleFireEvent(ArgoEvent event, ArgoEventListener listener) {
<span class="pc bpc" id="L377" title="1 of 2 branches missed.">        if (event.getEventType() == ArgoEventTypes.ANY_EVENT) {</span>
<span class="nc bnc" id="L378" title="All 2 branches missed.">            if (listener instanceof ArgoNotationEventListener) {</span>
<span class="nc" id="L379">                handleFireNotationEvent((ArgoNotationEvent) event,</span>
					(ArgoNotationEventListener) listener);
            }
<span class="nc bnc" id="L382" title="All 2 branches missed.">            if (listener instanceof ArgoHelpEventListener) {</span>
<span class="nc" id="L383">                handleFireHelpEvent((ArgoHelpEvent) event,</span>
                                        (ArgoHelpEventListener) listener);
            }
<span class="nc bnc" id="L386" title="All 2 branches missed.">            if (listener instanceof ArgoStatusEventListener) {</span>
<span class="nc" id="L387">                handleFireStatusEvent((ArgoStatusEvent) event,</span>
                        (ArgoStatusEventListener) listener);
            }
        } else {
<span class="pc bpc" id="L391" title="1 of 2 branches missed.">            if (event.getEventType() &gt;= ArgoEventTypes.ANY_NOTATION_EVENT</span>
<span class="fc bfc" id="L392" title="All 2 branches covered.">                &amp;&amp; event.getEventType() &lt; ArgoEventTypes.LAST_NOTATION_EVENT) {</span>
<span class="pc bpc" id="L393" title="1 of 2 branches missed.">                if (listener instanceof ArgoNotationEventListener) {</span>
<span class="fc" id="L394">                    handleFireNotationEvent((ArgoNotationEvent) event,</span>
					(ArgoNotationEventListener) listener);
                }
            }
<span class="fc bfc" id="L398" title="All 2 branches covered.">            if (event.getEventType() &gt;= ArgoEventTypes</span>
                            .ANY_DIAGRAM_APPEARANCE_EVENT
<span class="fc bfc" id="L400" title="All 2 branches covered.">                    &amp;&amp; event.getEventType() &lt; ArgoEventTypes</span>
                            .LAST_DIAGRAM_APPEARANCE_EVENT) {
<span class="pc bpc" id="L402" title="1 of 2 branches missed.">                if (listener instanceof ArgoDiagramAppearanceEventListener) {</span>
<span class="fc" id="L403">                    handleFireDiagramAppearanceEvent(</span>
                            (ArgoDiagramAppearanceEvent) event,
                            (ArgoDiagramAppearanceEventListener) listener);
                }
            }
<span class="fc bfc" id="L408" title="All 2 branches covered.">            if (event.getEventType() &gt;= ArgoEventTypes.ANY_HELP_EVENT</span>
<span class="fc bfc" id="L409" title="All 2 branches covered.">                    &amp;&amp; event.getEventType() &lt; ArgoEventTypes.LAST_HELP_EVENT) {</span>
<span class="pc bpc" id="L410" title="1 of 2 branches missed.">                if (listener instanceof ArgoHelpEventListener) {</span>
<span class="fc" id="L411">                    handleFireHelpEvent((ArgoHelpEvent) event,</span>
                            (ArgoHelpEventListener) listener);
                }
            }
<span class="fc bfc" id="L415" title="All 2 branches covered.">            if (event.getEventType() &gt;= ArgoEventTypes.ANY_GENERATOR_EVENT</span>
<span class="fc bfc" id="L416" title="All 2 branches covered.">                &amp;&amp; event.getEventType() &lt; ArgoEventTypes.LAST_GENERATOR_EVENT) {</span>
<span class="pc bpc" id="L417" title="1 of 2 branches missed.">                if (listener instanceof ArgoGeneratorEventListener) {</span>
<span class="fc" id="L418">                    handleFireGeneratorEvent((ArgoGeneratorEvent) event,</span>
                            (ArgoGeneratorEventListener) listener);
                }
            }
<span class="fc bfc" id="L422" title="All 2 branches covered.">            if (event.getEventType() &gt;= ArgoEventTypes.ANY_STATUS_EVENT</span>
<span class="fc bfc" id="L423" title="All 2 branches covered.">                    &amp;&amp; event.getEventType() &lt; ArgoEventTypes</span>
                            .LAST_STATUS_EVENT) {
<span class="pc bpc" id="L425" title="1 of 2 branches missed.">                if (listener instanceof ArgoStatusEventListener) {</span>
<span class="fc" id="L426">                    handleFireStatusEvent((ArgoStatusEvent) event,</span>
                            (ArgoStatusEventListener) listener);
                }
            }
<span class="fc bfc" id="L430" title="All 2 branches covered.">            if (event.getEventType() &gt;= ArgoEventTypes.ANY_PROFILE_EVENT</span>
<span class="pc bpc" id="L431" title="1 of 2 branches missed.">                    &amp;&amp; event.getEventType() &lt; ArgoEventTypes</span>
                            .LAST_PROFILE_EVENT) {
<span class="fc bfc" id="L433" title="All 2 branches covered.">                if (listener instanceof ArgoProfileEventListener) {</span>
<span class="fc" id="L434">                    handleFireProfileEvent((ArgoProfileEvent) event,</span>
                            (ArgoProfileEventListener) listener);
                }
            }
        }
<span class="fc" id="L439">    }</span>

    /**
     * @param event the event to be fired
     */
    public static void fireEvent(ArgoEvent event) {
<span class="fc" id="L445">        SINGLETON.doFireEvent(event);</span>
<span class="fc" id="L446">    }</span>

    /**
     * @param event the event to be fired
     */
    protected void doFireEvent(ArgoEvent event) {
<span class="fc bfc" id="L452" title="All 2 branches covered.">        if (listeners == null) {</span>
<span class="fc" id="L453">            return;</span>
        }

        // Make a read-only copy of the listeners list so that reentrant calls
        // back to add/removeListener won't mess us up.
        // TODO: Potential performance issue, but we need the correctness - tfm
        List&lt;Pair&gt; readOnlyListeners;
<span class="fc" id="L460">        synchronized (listeners) {</span>
<span class="fc" id="L461">            readOnlyListeners = new ArrayList&lt;Pair&gt;(listeners);</span>
<span class="fc" id="L462">        }</span>

<span class="fc bfc" id="L464" title="All 2 branches covered.">        for (Pair pair : readOnlyListeners) {</span>
<span class="fc bfc" id="L465" title="All 2 branches covered.">            if (pair.getEventType() == ArgoEventTypes.ANY_EVENT) {</span>
<span class="fc" id="L466">                handleFireEvent(event, pair.getListener());</span>
<span class="fc bfc" id="L467" title="All 2 branches covered.">            } else if (pair.getEventType() == event.getEventStartRange()</span>
<span class="fc bfc" id="L468" title="All 2 branches covered.">                    || pair.getEventType() == event.getEventType()) {</span>
<span class="fc" id="L469">                handleFireEvent(event, pair.getListener());</span>
            }
<span class="fc" id="L471">        }</span>

<span class="fc" id="L473">    }</span>

    /**
     * Data structure handling listener registrations.
     */
    static class Pair {
        private int eventType;
        private ArgoEventListener listener;

        /**
         * Constructor.
         *
         * @param myEventType The event type.
         * @param myListener The listener.
         */
<span class="fc" id="L488">        Pair(int myEventType, ArgoEventListener myListener) {</span>
<span class="fc" id="L489">            eventType = myEventType;</span>
<span class="fc" id="L490">            listener = myListener;</span>
<span class="fc" id="L491">        }</span>

        /**
         * @return The event type.
         */
        int getEventType() {
<span class="fc" id="L497">            return eventType;</span>
        }

        /**
         * @return The listener.
         */
        ArgoEventListener getListener() {
<span class="fc" id="L504">            return listener;</span>
        }


        @Override
        public String toString() {
<span class="nc" id="L510">            return &quot;{Pair(&quot; + eventType + &quot;,&quot; + listener + &quot;)}&quot;;</span>
        }


        @Override
        public int hashCode() {
<span class="nc bnc" id="L516" title="All 2 branches missed.">            if (listener != null) {</span>
<span class="nc" id="L517">                return eventType + listener.hashCode();</span>
            }
<span class="nc" id="L519">            return eventType;</span>
        }


        @Override
        public boolean equals(Object o) {
<span class="pc bpc" id="L525" title="1 of 2 branches missed.">            if (o instanceof Pair) {</span>
<span class="fc" id="L526">                Pair p = (Pair) o;</span>
<span class="fc bfc" id="L527" title="All 4 branches covered.">                if (p.eventType == eventType &amp;&amp; p.listener == listener) {</span>
<span class="fc" id="L528">                    return true;</span>
                }
            }
<span class="fc" id="L531">            return false;</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>